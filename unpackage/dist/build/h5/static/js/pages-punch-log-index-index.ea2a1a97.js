(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-punch-log-index-index"],{"088b":function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.addPunchLog=function(t){return(0,i.default)({url:"/punch/log/addPunchLogForApp",method:"post",data:t})},e.delPunchLog=function(t){return(0,i.default)({url:"/punch/log/deletePunchLogByIdForApp/"+t,method:"delete"})},e.getPunchLogInfo=function(t){return(0,i.default)({url:"/punch/log/getPunchLogInfoForApp/"+t,method:"get"})},e.getPunchLogList=function(t){return(0,i.default)({url:"/punch/log/getPunchLogListForApp",method:"get",params:t})},e.updatePunchLog=function(t){return(0,i.default)({url:"/punch/log/editPunchLogForApp",method:"put",data:t})};var i=n(a("e3d7"))},"09df":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".flex-box[data-v-460486c6]{display:flex;flex-direction:column;align-items:center;justify-content:center}.text-ellipsis[data-v-460486c6]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.text-ellipsis-two[data-v-460486c6]{text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.status_bar[data-v-460486c6]{height:0;width:100%;z-index:10}.top-nav[data-v-460486c6]{width:100%;height:%?88?%;position:fixed;top:0;background-color:#fff;display:flex;justify-content:space-between;align-items:center;z-index:10}.top-nav .top-nav-back[data-v-460486c6]{width:25%}.top-nav .top-nav-back .top-nav-back-icon[data-v-460486c6]{padding:%?15?% %?15?% %?15?% %?30?%}.top-nav .top-nav-title[data-v-460486c6]{width:45%;text-align:center;font-size:%?34?%;color:#000}.top-nav .top-nav-btn[data-v-460486c6]{width:calc(25% - %?30?%);text-align:right;margin-right:%?30?%;font-size:%?28?%;color:#838383;position:relative;top:%?3?%}.top-nav-fake[data-v-460486c6]{width:100%;height:%?88?%}.top-nav-search[data-v-460486c6]{width:100%;height:%?80?%;background-color:#fff;position:fixed;top:%?88?%;z-index:10}.top-nav-search .nav-search-box[data-v-460486c6]{width:calc(100% - %?30?% * 2);height:%?72?%;background-color:#f8f8f8;margin:calc(%?80?% - %?72?%) auto 0 auto;border-radius:%?50?%;display:flex;justify-content:space-between;align-items:center}.top-nav-search .nav-search-box .nav-search-icon[data-v-460486c6]{position:relative;left:%?26?%;top:%?-2?%}.top-nav-search .nav-search-box .nav-search-input[data-v-460486c6]{width:calc(100% - %?80?%);height:100%;font-size:%?24?%}.top-nav-search .nav-search-box .nav-input-placeholder[data-v-460486c6]{font-size:%?28?%;color:#c8c8c8}.nav-search-box-invoice[data-v-460486c6]{width:calc(100% - %?30?% * 2);margin:0 auto;display:flex;justify-content:space-between;align-items:center}.nav-search-box-invoice .nav-search-box[data-v-460486c6]{width:calc(100% - %?140?%)}.nav-search-box-invoice .nav-search-filter[data-v-460486c6]{width:%?140?%;font-size:%?28?%;color:#313131;display:flex;justify-content:flex-end;align-items:center;position:relative;top:%?10?%}.nav-search-box-invoice .nav-search-filter .nav-search-filter-text[data-v-460486c6]{margin-right:%?8?%}.nav-search-box-invoice .nav-search-filter .nav-search-filter-icon[data-v-460486c6]{margin-right:%?20?%;position:relative;top:%?1?%}.top-nav-tab[data-v-460486c6]{width:100%;height:%?100?%;background-color:#fff;position:fixed;top:calc(%?88?% + %?80?%);z-index:10}.top-nav-tab .nav-tab-box[data-v-460486c6]{margin:0 auto}.top-nav-tab .nav-tab-box-two[data-v-460486c6]{width:75%}.top-nav-tab .nav-tab-box-four[data-v-460486c6]{width:100%}.top-nav-tab .nav-tab-box-three[data-v-460486c6]{width:100%}.top-nav-fake-high[data-v-460486c6]{width:100%;height:calc(%?88?% + %?80?% + %?100?%)}.top-nav-fake-middle[data-v-460486c6]{width:100%;height:calc(%?88?% + %?80?%)}.fx67ll-extra-box[data-v-460486c6]{padding:%?40?%}.fx67ll-extra-box .fx67ll-extra-item[data-v-460486c6]{margin-bottom:%?40?%}.fx67ll-extra-box .fx67ll-extra-item .fx67ll-extra-badge[data-v-460486c6]{border-radius:100px;font-size:12px;line-height:18px;color:#fff;padding:%?6?% %?8?% %?8?% %?8?%;margin-top:%?4?%}.fx67ll-extra-box .fx67ll-extra-item .fx67ll-extra-badge-success[data-v-460486c6]{background-color:#2ecc71!important}.fx67ll-extra-box .fx67ll-extra-item .fx67ll-extra-badge-fail[data-v-460486c6]{background-color:#ff5a5f!important}.fx67ll-extra-box .fx67ll-extra-item .fx67ll-extra-badge-normal[data-v-460486c6]{background-color:#999!important}",""]),t.exports=e},"234f":function(t,e,a){"use strict";var n=a("f80c"),i=a.n(n);i.a},2960:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={zPagingMini:a("83b38").default,uniSwipeAction:a("d86d").default,uniSwipeActionItem:a("a9ee").default,uniSection:a("3b2d").default,uniList:a("c712").default,uniListChat:a("8c35").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"fx67ll-extra-box"},[a("z-paging-mini",{ref:"paging",on:{query:function(e){arguments[0]=e=t.$handleEvent(e),t.queryPunchList.apply(void 0,arguments)}},model:{value:t.punchList,callback:function(e){t.punchList=e},expression:"punchList"}},[a("uni-swipe-action",t._l(t.punchList,(function(e){return a("v-uni-view",{key:e.punchId,staticClass:"fx67ll-extra-item"},[a("uni-swipe-action-item",{attrs:{"right-options":t.actionOptions},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),function(a){return t.handleActionClick(a,e)}.apply(void 0,arguments)}}},[a("uni-section",{attrs:{title:e.updateTime.substring(0,10),type:"line"}},[a("uni-list",{attrs:{border:!0}},[a("uni-list-chat",{attrs:{avatar:"https://vip.fx67ll.com/vip-api/getRandomAvatar?avatarBlockNum=6",title:e.updateTime,note:e.punchRemark||"暂无打卡备注"},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-uni-view",[a("v-uni-text",{class:{"fx67ll-extra-badge":!0,"fx67ll-extra-badge-success":"1"===e.punchType,"fx67ll-extra-badge-fail":"2"===e.punchType,"fx67ll-extra-badge-normal":!e.punchType||"3"===e.punchType}},[t._v(t._s("1"===e.punchType?"上班打卡":"2"===e.punchType?"下班打卡":"异常记录，请联系管理员"))])],1)]},proxy:!0}],null,!0)})],1)],1)],1)],1)})),1)],1)],1)},o=[]},"4e47":function(t,e,a){"use strict";a.r(e);var n=a("2960"),i=a("fac0");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("234f");var c=a("f0c5"),l=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"460486c6",null,!1,n["a"],void 0);e["default"]=l.exports},dfc2:function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("088b"),o=a("1544"),c=a("58f9"),l=n(a("8c35"));n(a("f735"));a("0f3c");var r={components:{uniListChat:l.default},data:function(){return{punchList:[],actionOptions:[{text:"取消",style:{backgroundColor:"#4096ff"}},{text:"修改",style:{backgroundColor:"#2ecc71"}},{text:"删除",style:{backgroundColor:"#ff4d4f"}}]}},methods:{queryPunchList:function(t,e){var a=this,n={pageNum:t,pageSize:e};(0,i.getPunchLogList)(n).then((function(t){var e;200===(null===t||void 0===t?void 0:t.code)?null!==t&&void 0!==t&&t.rows&&(null===t||void 0===t||null===(e=t.rows)||void 0===e?void 0:e.length)>0?a.$refs.paging.complete(t.rows):a.$refs.paging.complete([]):(uni.showToast({title:"查询历史打卡记录失败！",icon:"none",duration:1998}),a.$refs.paging.complete(!1))})).catch((function(t){a.$refs.paging.complete(!1)}))},editLogInfo:function(t){},deletePunch:function(t){var e=this;(0,i.delPunchLog)(t).then((function(t){200===(null===t||void 0===t?void 0:t.code)?(e.$refs.paging.reload(),uni.showToast({title:"历史打卡记录删除成功！",icon:"none",duration:1998})):uni.showToast({title:"历史打卡记录删除失败！",icon:"none",duration:1998})}))},handleActionClick:function(t,e){var a=this;1===(null===t||void 0===t?void 0:t.index)&&uni.showToast({title:"功能开发中！",icon:"none",duration:1998}),2===(null===t||void 0===t?void 0:t.index)&&(0,c.showConfirm)("删除后数据无法恢复，请确认是否删除创建时间为：".concat(null===e||void 0===e?void 0:e.createTime," 的历史打卡记录？"),"警告").then((function(t){null!==t&&void 0!==t&&t.confirm&&null!==e&&void 0!==e&&e.punchId&&((0,o.diffTimeStrFromNow)(null===e||void 0===e?void 0:e.createTime)<=-48?uni.showToast({title:"记录创建时间已超过48小时，不允许删除操作！有需要请联系管理员~",icon:"none",duration:1998}):a.deletePunch(e.punchId))}))}}};e.default=r},f80c:function(t,e,a){var n=a("09df");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("3036a8d2",n,!0,{sourceMap:!1,shadowMode:!1})},fac0:function(t,e,a){"use strict";a.r(e);var n=a("dfc2"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a}}]);