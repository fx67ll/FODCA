(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dortmund-extra-add-add"],{3760:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){return n}));var n={uniForms:t("bd09").default,uniFormsItem:t("8850").default,uniEasyinput:t("608e").default,uniDataCheckbox:t("0171").default},o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-uni-view",{staticClass:"fx67ll-form-box"},[t("v-uni-view",{staticClass:"fx67ll-form-content"},[t("uni-forms",{ref:"form",attrs:{model:e.formParams,labelWidth:"80px"}},[t("uni-forms-item",{attrs:{label:"外快余额",name:"extraMoney",required:!0}},[t("uni-easyinput",{attrs:{placeholder:"请输入当前外快总金额",clearable:!0},on:{input:function(a){arguments[0]=a=e.$handleEvent(a),e.handleExtraMoneyChangeDubounce.apply(void 0,arguments)}},model:{value:e.formParams.extraMoney,callback:function(a){e.$set(e.formParams,"extraMoney",a)},expression:"formParams.extraMoney"}})],1),t("uni-forms-item",{attrs:{label:"落袋金额",name:"saveMoney",required:!0}},[t("uni-easyinput",{attrs:{placeholder:"请输入已经落袋为安的盈利金额",clearable:!0},model:{value:e.formParams.saveMoney,callback:function(a){e.$set(e.formParams,"saveMoney",a)},expression:"formParams.saveMoney"}})],1),t("uni-forms-item",{attrs:{label:"上次余额"}},[t("uni-easyinput",{attrs:{placeholder:"暂无数据",disabled:!0},model:{value:e.preExtraData.extraMoney,callback:function(a){e.$set(e.preExtraData,"extraMoney",a)},expression:"preExtraData.extraMoney"}})],1),t("uni-forms-item",{attrs:{label:"当前本金",name:"seedMoney",required:!0}},[t("uni-easyinput",{attrs:{placeholder:"请输入当前本金",clearable:!0},on:{input:function(a){arguments[0]=a=e.$handleEvent(a),e.handleSeedMoneyChangeDubounce.apply(void 0,arguments)}},model:{value:e.formParams.seedMoney,callback:function(a){e.$set(e.formParams,"seedMoney",a)},expression:"formParams.seedMoney"}})],1),t("uni-forms-item",{attrs:{label:"上次本金"}},[t("uni-easyinput",{attrs:{placeholder:"暂无数据",disabled:!0},model:{value:e.preExtraData.seedMoney,callback:function(a){e.$set(e.preExtraData,"seedMoney",a)},expression:"preExtraData.seedMoney"}})],1),t("uni-forms-item",{attrs:{label:"目标盈利",name:"targetMoney",required:!0}},[t("uni-easyinput",{attrs:{placeholder:"请输入当前冲击的目标盈利",clearable:!0},model:{value:e.formParams.targetMoney,callback:function(a){e.$set(e.formParams,"targetMoney",a)},expression:"formParams.targetMoney"}})],1),t("uni-forms-item",{attrs:{label:"是否盈利",name:"isWin",required:!0}},[t("uni-data-checkbox",{attrs:{localdata:e.isWinConfig,disabled:!0},model:{value:e.formParams.isWin,callback:function(a){e.$set(e.formParams,"isWin",a)},expression:"formParams.isWin"}})],1),t("uni-forms-item",{attrs:{label:"盈亏金额",name:"winMoney",required:!0}},[t("uni-easyinput",{attrs:{placeholder:"请输入外快盈亏金额",disabled:!0},model:{value:e.formParams.winMoney,callback:function(a){e.$set(e.formParams,"winMoney",a)},expression:"formParams.winMoney"}})],1),t("uni-forms-item",{attrs:{label:"盈亏备注",name:"extraRemark"}},[t("uni-easyinput",{attrs:{type:"textarea",placeholder:"请输入盈亏备注",clearable:!0},model:{value:e.formParams.extraRemark,callback:function(a){e.$set(e.formParams,"extraRemark",a)},expression:"formParams.extraRemark"}})],1)],1),t("v-uni-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.handleAddExtra.apply(void 0,arguments)}}},[e._v("提交新增")])],1),t("v-uni-view",{staticClass:"fx67ll-form-fake"})],1)},r=[]},"4b4d":function(e,a,t){"use strict";t("7a82");var n=t("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("acd8");var o=t("c935"),r=n(t("38d1")),i={data:function(){return{formParams:{extraMoney:"",seedMoney:"",saveMoney:"",targetMoney:"",isWin:"N",winMoney:"",extraRemark:""},isWinConfig:[{text:"是",value:"Y"},{text:"否",value:"N"}],rules:{extraMoney:{rules:[{required:!0,errorMessage:"当前外快总金额不能为空"}]},seedMoney:{rules:[{required:!0,errorMessage:"当前本金不能为空"}]},saveMoney:{rules:[{required:!0,errorMessage:"已经落袋为安的盈利金额不能为空"}]},targetMoney:{rules:[{required:!0,errorMessage:"当前冲击的目标盈利不能为空"}]},isWin:{rules:[{required:!0,errorMessage:"是否盈利不能为空"}]},winMoney:{rules:[{required:!0,errorMessage:"外快盈亏金额不能为空"}]}},preExtraData:{extraMoney:"0",seedMoney:"0"}}},onLoad:function(){this.getPreExtraMoney()},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{getPreExtraMoney:function(){var e=this;(0,o.getExtraList)({pageNum:1,pageSize:1}).then((function(a){var t,n,o,r;200===(null===a||void 0===a?void 0:a.code)?null!==a&&void 0!==a&&a.rows&&(null===a||void 0===a||null===(t=a.rows)||void 0===t?void 0:t.length)>0?(e.preExtraData=a.rows[0],e.formParams.seedMoney=null===(n=a.rows[0])||void 0===n?void 0:n.seedMoney,e.formParams.saveMoney=null===(o=a.rows[0])||void 0===o?void 0:o.saveMoney,e.formParams.targetMoney=null===(r=a.rows[0])||void 0===r?void 0:r.targetMoney):uni.showToast({title:"暂无历史外快盈亏记录数据！",icon:"none",duration:1998}):uni.showToast({title:"查询外快盈亏记录失败！",icon:"none",duration:1998})}))},handleExtraMoneyChangeDubounce:r.default.debounce((function(e){this.handleExtraMoneyChange(e)}),444),handleExtraMoneyChange:function(e){var a,t,n,o=null===(a=this.formParams)||void 0===a?void 0:a.seedMoney,r=(null===(t=this.preExtraData)||void 0===t?void 0:t.extraMoney)||"0",i=(null===(n=this.preExtraData)||void 0===n?void 0:n.seedMoney)||"0";e&&o&&r&&i&&this.handleWinMoneyCount(e,o,r,i)},handleSeedMoneyChangeDubounce:r.default.debounce((function(e){this.handleSeedMoneyChange(e)}),444),handleSeedMoneyChange:function(e){var a,t,n,o=null===(a=this.formParams)||void 0===a?void 0:a.extraMoney,r=(null===(t=this.preExtraData)||void 0===t?void 0:t.extraMoney)||"0",i=(null===(n=this.preExtraData)||void 0===n?void 0:n.seedMoney)||"0";e&&o&&r&&i&&this.handleWinMoneyCount(o,e,r,i)},handleWinMoneyCount:function(e,a,t,n){var o=(parseFloat(e)-parseFloat(a)-(parseFloat(t)-parseFloat(n))).toFixed(2);this.formParams.isWin=o>0?"Y":"N",this.formParams.winMoney=o},handleAddExtra:function(){var e=this;this.$refs.form.validate().then((function(a){(0,o.addExtra)(e.formParams).then((function(a){200===(null===a||void 0===a?void 0:a.code)?(uni.showToast({title:"外快盈亏记录新增成功！",icon:"none",duration:1998}),setTimeout((function(){e.$tab.navigateBack("/pages/dortmund/extra/index/index")}),1023)):uni.showToast({title:"外快盈亏记录新增失败！",icon:"none",duration:1998})}))}))}}};a.default=i},"4eb5":function(e,a,t){"use strict";var n=t("8b29"),o=t.n(n);o.a},5625:function(e,a,t){"use strict";t.r(a);var n=t("3760"),o=t("bf85");for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(a,e,(function(){return o[e]}))}(r);t("4eb5");var i=t("f0c5"),s=Object(i["a"])(o["default"],n["b"],n["c"],!1,null,"e95aefae",null,!1,n["a"],void 0);a["default"]=s.exports},"8b29":function(e,a,t){var n=t("d2b3");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=t("4f06").default;o("2372c8d6",n,!0,{sourceMap:!1,shadowMode:!1})},bf85:function(e,a,t){"use strict";t.r(a);var n=t("4b4d"),o=t.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(r);a["default"]=o.a},c935:function(e,a,t){"use strict";t("7a82");var n=t("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.addExtra=function(e){return(0,o.default)({url:"/dortmund/extra/addExtraForApp",method:"post",data:e})},a.delExtra=function(e){return(0,o.default)({url:"/dortmund/extra/deleteExtraByIdForApp/"+e,method:"delete"})},a.getExtraList=function(e){return(0,o.default)({url:"/dortmund/extra/getExtraListForApp",method:"get",params:e})};var o=n(t("e3d7"))},d2b3:function(e,a,t){var n=t("24fb");a=n(!1),a.push([e.i,".flex-box[data-v-e95aefae]{display:flex;flex-direction:column;align-items:center;justify-content:center}.text-ellipsis[data-v-e95aefae]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.text-ellipsis-two[data-v-e95aefae]{text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.status_bar[data-v-e95aefae]{height:0;width:100%;z-index:10}.top-nav[data-v-e95aefae]{width:100%;height:%?88?%;position:fixed;top:0;background-color:#fff;display:flex;justify-content:space-between;align-items:center;z-index:10}.top-nav .top-nav-back[data-v-e95aefae]{width:25%}.top-nav .top-nav-back .top-nav-back-icon[data-v-e95aefae]{padding:%?15?% %?15?% %?15?% %?30?%}.top-nav .top-nav-title[data-v-e95aefae]{width:45%;text-align:center;font-size:%?34?%;color:#000}.top-nav .top-nav-btn[data-v-e95aefae]{width:calc(25% - %?30?%);text-align:right;margin-right:%?30?%;font-size:%?28?%;color:#838383;position:relative;top:%?3?%}.top-nav-fake[data-v-e95aefae]{width:100%;height:%?88?%}.top-nav-search[data-v-e95aefae]{width:100%;height:%?80?%;background-color:#fff;position:fixed;top:%?88?%;z-index:10}.top-nav-search .nav-search-box[data-v-e95aefae]{width:calc(100% - %?30?% * 2);height:%?72?%;background-color:#f8f8f8;margin:calc(%?80?% - %?72?%) auto 0 auto;border-radius:%?50?%;display:flex;justify-content:space-between;align-items:center}.top-nav-search .nav-search-box .nav-search-icon[data-v-e95aefae]{position:relative;left:%?26?%;top:%?-2?%}.top-nav-search .nav-search-box .nav-search-input[data-v-e95aefae]{width:calc(100% - %?80?%);height:100%;font-size:%?24?%}.top-nav-search .nav-search-box .nav-input-placeholder[data-v-e95aefae]{font-size:%?28?%;color:#c8c8c8}.nav-search-box-invoice[data-v-e95aefae]{width:calc(100% - %?30?% * 2);margin:0 auto;display:flex;justify-content:space-between;align-items:center}.nav-search-box-invoice .nav-search-box[data-v-e95aefae]{width:calc(100% - %?140?%)}.nav-search-box-invoice .nav-search-filter[data-v-e95aefae]{width:%?140?%;font-size:%?28?%;color:#313131;display:flex;justify-content:flex-end;align-items:center;position:relative;top:%?10?%}.nav-search-box-invoice .nav-search-filter .nav-search-filter-text[data-v-e95aefae]{margin-right:%?8?%}.nav-search-box-invoice .nav-search-filter .nav-search-filter-icon[data-v-e95aefae]{margin-right:%?20?%;position:relative;top:%?1?%}.top-nav-tab[data-v-e95aefae]{width:100%;height:%?100?%;background-color:#fff;position:fixed;top:calc(%?88?% + %?80?%);z-index:10}.top-nav-tab .nav-tab-box[data-v-e95aefae]{margin:0 auto}.top-nav-tab .nav-tab-box-two[data-v-e95aefae]{width:75%}.top-nav-tab .nav-tab-box-four[data-v-e95aefae]{width:100%}.top-nav-tab .nav-tab-box-three[data-v-e95aefae]{width:100%}.top-nav-fake-high[data-v-e95aefae]{width:100%;height:calc(%?88?% + %?80?% + %?100?%)}.top-nav-fake-middle[data-v-e95aefae]{width:100%;height:calc(%?88?% + %?80?%)}.fx67ll-form-box .fx67ll-form-content[data-v-e95aefae]{margin:%?40?%;padding:%?40?%;background-color:#fff;border-radius:8px}.fx67ll-form-box .fx67ll-form-content .fx67ll-form-item[data-v-e95aefae]{margin-bottom:%?40?%}.fx67ll-form-box .fx67ll-form-fake[data-v-e95aefae]{width:100%;height:%?80?%}",""]),e.exports=a},fd87:function(e,a,t){var n=t("74e8");n("Int8",(function(e){return function(a,t,n){return e(this,a,t,n)}}))}}]);