(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-lottery-index-index"],{"0275":function(t,e,i){var a=i("b055");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("0cf1a70a",a,!0,{sourceMap:!1,shadowMode:!1})},"0509":function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.addLog=function(t){return(0,n.default)({url:"/lottery/log/addLotteryLogForApp",method:"post",data:t})},e.delLog=function(t){return(0,n.default)({url:"/lottery/log/deleteLogByIdForApp/"+t,method:"delete"})},e.editLog=function(t){return(0,n.default)({url:"/lottery/log/editLotteryLogForApp",method:"put",data:t})},e.getLogInfo=function(t){return(0,n.default)({url:"/lottery/log/getLotteryLogInfoForApp/".concat(t),method:"get"})},e.getLogList=function(t){return(0,n.default)({url:"/lottery/log/getLotteryLogListForApp",method:"get",params:t})};var n=a(i("e3d7"))},"0ed7":function(t,e,i){"use strict";i.r(e);var a=i("c5f3"),n=i("99ad");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("8e28");var r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"0119a4c8",null,!1,a["a"],void 0);e["default"]=s.exports},"146c":function(t,e,i){var a=i("f174");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6b5fddc0",a,!0,{sourceMap:!1,shadowMode:!1})},"1ffc":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-numbox"},[i("v-uni-view",{staticClass:"uni-numbox__minus uni-numbox-btns",style:{background:t.background},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._calcValue("minus")}}},[i("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":t.inputValue<=t.min||t.disabled},style:{color:t.color}},[t._v("-")])],1),i("v-uni-input",{staticClass:"uni-numbox__value",style:{background:t.background,color:t.color},attrs:{disabled:t.disabled,type:"number"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t._onFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t._onBlur.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),i("v-uni-view",{staticClass:"uni-numbox__plus uni-numbox-btns",style:{background:t.background},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._calcValue("plus")}}},[i("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":t.inputValue>=t.max||t.disabled},style:{color:t.color}},[t._v("+")])],1)],1)},n=[]},"233e":function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("3835")),o=a(i("c7eb")),r=a(i("1da1"));i("a9e3"),i("ac1f");var s={props:{withHeader:{type:Boolean,default:!0},wrapperClosable:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},radius:{type:Boolean,default:!1},isGesture:{type:Boolean,default:!1},beforeClose:Function,showClose:{type:Boolean,default:!0},title:{type:String,default:"我是标题"},top:{type:[Number,String],default:0},visible:Boolean,width:{type:[Number,String],default:"50%"},height:{type:[Number,String],default:"30%"},isShowTabBar:{type:Boolean,default:!1},mode:{type:String,default:"right"}},computed:{getWidth:function(){var t=this.width;return t}},watch:{show:{handler:function(t){this.$emit("update:visible",t)}},visible:{handler:function(t){var e=this;return(0,r.default)((0,o.default)().mark((function i(){return(0,o.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:t?(e._change("show","mask",t),e.getDrawerWidth()):e._change("mask","show",t);case 1:case"end":return i.stop()}}),i)})))()},immediate:!0}},data:function(){return{style:{},isMove:!0,show:!1,mask:this.visible,watchTimer:null,start:{x:null,y:null},move:{x:null,y:null},drawerWidth:0,drawerHeight:0,moveDisX:null,moveDisY:null}},methods:{getDrawerWidth:function(){var t=this;this.$nextTick((function(){uni.createSelectorQuery().in(t).select(".zb-drawer__container").boundingClientRect((function(e){t.drawerWidth=e.width,t.drawerHeight=e.height})).exec()}))},getAngle:function(t,e){return 180*Math.atan2(e,t)/Math.PI},getLineAngle:function(t,e,i,a){var n=t-i,o=e-a;if(!n&&!o)return 0;var r=(180+180*Math.atan2(-o,-n)/Math.PI+360)%360;return 360-r},getDirection:function(t,e,i,a){var n=i-t,o=a-e,r=this.getAngle(n,o);return r>=-135&&r<=-45?"下滑":r>45&&r<135?"上滑":r>=135&&r<=180||r>=-180&&r<-135?"右滑":r>=-45&&r<=45?"左滑":void 0},touchstart:function(t){this.isMove=!1;var e=(0,n.default)(t.changedTouches,1),i=e[0];this.start.x=i.clientX,this.start.y=i.clientY},touchend:function(t){var e=this;this.isMove=!0,"left"!==this.mode&&"right"!==this.mode||(Math.abs(this.moveDisX)>this.drawerWidth/2?this._change("mask","show",!1):this.style={transform:"translateX(0px)"}),"top"!==this.mode&&"bottom"!==this.mode||(Math.abs(this.moveDisY)>this.drawerHeight/2?this._change("mask","show",!1):this.style={transform:"translateY(0px)"}),setTimeout((function(){e.style={},e.moveDisY=0,e.moveDisX=0}),100)},touchmove:function(t){if(this.isGesture&&(!this.top||"top"!==this.mode)){var e=(0,n.default)(t.changedTouches,1),i=e[0];this.move.x=i.clientX,this.move.y=i.clientY,this.moveDisX=this.move.x-this.start.x,this.moveDisY=this.move.y-this.start.y;var a=this.getDirection(this.move.x,this.move.y,this.start.x,this.start.y);"左滑"===a&&"left"===this.mode||"右滑"===a&&"right"===this.mode?this.style={transform:"translateX(".concat(this.moveDisX,"px)")}:("上滑"===a&&"top"===this.mode||"下滑"===a&&"bottom"===this.mode)&&(this.style={transform:"translateY(".concat(this.moveDisY,"px)")})}},_change:function(t,e,i){var a=this;this[t]=i,this.watchTimer&&clearTimeout(this.watchTimer),this.watchTimer=setTimeout((function(){a[e]=i,a.$emit("change",i)}),i?50:300)},close:function(t){var e=this;if(this.beforeClose&&"function"===typeof this.beforeClose)return this.beforeClose((function(){e._change("mask","show",!1)}),t);this.wrapperClosable&&"mask"===t&&this._change("mask","show",!1),"cancel"===t&&this._change("mask","show",!1),this.$emit("closeDrawer")}}};e.default=s},"46e2":function(t,e,i){"use strict";var a=i("146c"),n=i.n(a);n.a},6894:function(t,e,i){"use strict";var a=i("0275"),n=i.n(a);n.a},"76bb":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.zb-drawer__wrapper[data-v-0119a4c8]{position:fixed;top:0;right:0;bottom:0;left:0;overflow:hidden;margin:0;z-index:11}.content--visible_top[data-v-0119a4c8]{border-bottom-left-radius:%?8?%;border-bottom-right-radius:%?8?%}.content--visible_bottom[data-v-0119a4c8]{border-top-left-radius:%?20?%;border-top-right-radius:%?20?%}.mask[data-v-0119a4c8]{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1;opacity:0;background-color:rgba(0,0,0,.4);transition:opacity .3s}.mask__visible[data-v-0119a4c8]{opacity:1}.zb-drawer__body[data-v-0119a4c8]{padding:%?10?% %?20?% %?0?%}.zb_drawer__header[data-v-0119a4c8]{display:flex;align-items:center;padding:%?20?% %?28?%;flex-direction:row;box-shadow:inset 0 -1px 0 0 #f0f0f0}.zb_drawer__header .title[data-v-0119a4c8]{flex:1;text-align:center;text-indent:%?42?%;word-spacing:%?5?%;font-size:%?34?%}.zb_drawer__header .close-wrap[data-v-0119a4c8]{position:relative;flex-shrink:0;overflow:hidden}.zb_drawer__header .close[data-v-0119a4c8]{width:%?50?%;display:flex;align-items:center;justify-content:center;height:%?50?%;cursor:pointer}.zb_drawer__header .before[data-v-0119a4c8],\r\n.zb_drawer__header .after[data-v-0119a4c8]{position:absolute;left:%?30?%;content:" ";height:%?30?%;width:%?4?%;background-color:#333}.zb_drawer__header .close[data-v-0119a4c8]:before,\r\n.zb_drawer__header .close[data-v-0119a4c8]:after{position:absolute;left:%?30?%;content:" ";height:%?30?%;width:%?4?%;background-color:#333}.zb_drawer__header .before[data-v-0119a4c8]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.zb_drawer__header .after[data-v-0119a4c8]{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.zb_drawer__header .close[data-v-0119a4c8]:before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.zb_drawer__header .close[data-v-0119a4c8]:after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.zb-drawer__container[data-v-0119a4c8]{outline:0;height:100%;position:absolute;width:200px;z-index:2;display:flex;flex-direction:column;background-color:#fff}.animation[data-v-0119a4c8]{transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.zb-drawer_top[data-v-0119a4c8]{top:0;right:0;left:0;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.zb-drawer_bottom[data-v-0119a4c8]{bottom:0;right:0;left:0;-webkit-transform:translateY(100%);transform:translateY(100%)}.zb-drawer_right[data-v-0119a4c8]{right:0;top:0;bottom:0;-webkit-transform:translateX(100%);transform:translateX(100%)}.zb-drawer_left[data-v-0119a4c8]{top:0;left:0;bottom:0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.content--visible[data-v-0119a4c8]{-webkit-transform:translateX(0);transform:translateX(0)}.content--visible_Y[data-v-0119a4c8]{-webkit-transform:translateY(0);transform:translateY(0)}.zb_drawer__body[data-v-0119a4c8]{flex:1;display:flex;flex-direction:column;overflow:hidden}',""]),t.exports=e},"7b0e":function(t,e,i){"use strict";i.r(e);var a=i("9475"),n=i("8118");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("46e2");var r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"528a3b93",null,!1,a["a"],void 0);e["default"]=s.exports},"7ebd":function(t,e,i){"use strict";(function(t){i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2909")),o=a(i("5530"));i("e9c4"),i("14d9"),i("a434"),i("d3b7"),i("159b"),i("caad"),i("4de4"),i("99af"),i("ac1f"),i("5319"),i("e25e");var r=a(i("b540")),s=a(i("d22a")),l=a(i("38d1")),u=a(i("f735"));i("0f3c");var c=i("1544"),d=i("58f9"),f=i("9753"),h=i("0509"),m={components:{uniIcons:r.default,uniNumberBox:s.default},data:function(){return{userName:this.$store.state.user.name,settingInfoId:null,iconSize:32,timer:null,todayWeek:(0,u.default)().format("E"),isShowDrawer:!1,drawerHeight:"75%",drawerType:0,drawerTitle:(0,u.default)().format("YYYY-MM-DD hh:mm:ss dddd"),showType:"",luckyNumberRed:[],luckyNumberBlue:[],luckyNumberFront:[],luckyNumberBack:[],luckyNumberList:[],luckyNumberSSQ:{timeStamp:(new Date).getTime(),lotteryNumberFirst:[1,4,5,8,10,23],lotteryNumberSecond:[5]},luckyNumberDLT:{timeStamp:(new Date).getTime(),lotteryNumberFirst:[4,7,8,10,23],lotteryNumberSecond:[4,9]},copyTextContent:"",lotteryTicketArr:[],idImgArrBack:[],settingInfo:{luckyCount:2,isNeedRepeat:!1,isOnlyFirstToday:!0,firstRandomDate:null,localLuckyNumberList:[],isNeedLuckyNumber:!0,todayLuckyNumber:null,luckyNumberDate:null,firstLuckyDate:null,isCheckLuckyOver:!1,todayLuckyText:null,luckyClickTotal:0,drawLotteryTimeHistory:0,isGetBigReward:!1,bigRewardNumber:null},luckyRandomProgrss:0,luckyProgrssCount:0,luckyTimer:null,countLoading:!1,countStartTime:null,fakeDrawTimer:null,drawLotteryText:"模拟摇奖",isDrawLoading:!1,drawLotteryTime:0,isNetworkLoading:!1,pictureUploadNumber:0,ocrTagList:[],ocrTagCheckList:[]}},watch:{isShowDrawer:{handler:function(t,e){!t&&this.drawerType},deep:!0,immediate:!0}},onLoad:function(){u.default.locale("zh-cn"),this.initLuckyNumber(),this.initCacheSetting(),this.showNowTime()},onHide:function(){this.saveLuckySettingDebounce(!0),this.clearAllTimer()},onUnload:function(){this.clearAllTimer()},methods:{clearAllTimer:function(){clearInterval(this.timer),clearTimeout(this.luckyTimer),clearTimeout(this.fakeDrawTimer),this.timer=null,this.luckyTimer=null,this.fakeDrawTimer=null,this.isDrawLoading&&this.stopDrawLottery()},saveLuckySetting:function(t){var e=this;if(this.isNetworkLoading=!0,this.settingInfoId){var i={settingId:this.settingInfoId,lotterySetting:JSON.stringify(this.settingInfo)};(0,f.updateSetting)(i).then((function(i){e.showSavingToast(null===i||void 0===i?void 0:i.code,!t,"摇奖设置已成功新增到云端~","摇奖设置保存新增到云端失败，请联系管理员！",!1)}))}else{var a={lotterySetting:JSON.stringify(this.settingInfo)};(0,f.addSetting)(a).then((function(i){e.showSavingToast(null===i||void 0===i?void 0:i.code,!t,"摇奖设置已成功保存到云端~","摇奖设置保存修改到云端失败，请联系管理员！",!0)}))}},saveLuckySettingDebounce:l.default.debounce((function(t){this.saveLuckySetting(t)}),233),showSavingToast:function(t,e,i,a,n){var o=this;200===t?(e&&i&&uni.showToast({title:i,icon:"none",duration:1998}),n&&(0,f.getSetting)().then((function(t){var e;200===(null===t||void 0===t?void 0:t.code)&&null!==t&&void 0!==t&&t.data&&(o.settingInfoId=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.settingId)}))):e&&a&&uni.showToast({title:a,icon:"none",duration:1998}),e&&(this.drawerType=0,this.isShowDrawer=!1),this.isNetworkLoading=!1},saveLuckySettingLocal:function(){this.saveLuckySettingDebounce(!0),localStorage.setItem("settingInfo",JSON.stringify(this.settingInfo))},initCacheSetting:function(){var t=this,e=this;this.$modal.loading("加载配置中，请耐心等待..."),this.isNetworkLoading=!0,(0,f.getSetting)().then((function(i){if(200===(null===i||void 0===i?void 0:i.code)&&null!==i&&void 0!==i&&i.data){var a,n;t.settingInfoId=null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.settingId;var r=null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.lotterySetting,s=JSON.parse(r)||{};l.default.has(s,"firstRandomDate")?(e.settingInfo=(0,o.default)({},s),e.settingInfo.isOnlyFirstToday&&e.settingInfo.firstRandomDate===(0,u.default)().format("YYYY-MM-DD")&&(e.luckyNumberList=e.settingInfo.localLuckyNumberList),e.initTodayLuckyNumber(s.luckyNumberDate),e.initDrawLottery()):e.initTodayLuckyNumber(null)}else t.settingInfoId=null,t.initCacheSettingLocal(),uni.showToast({title:"获取云端摇奖设置失败！已为您自动加载本地摇奖设置~",icon:"none",duration:1998});e.$modal.closeLoading(),e.isNetworkLoading=!1}))},initCacheSettingLocal:function(){if(localStorage.getItem("settingInfo")){var t=JSON.parse(localStorage.getItem("settingInfo"));this.settingInfo=(0,o.default)({},t),this.settingInfo.isOnlyFirstToday&&this.settingInfo.firstRandomDate===(0,u.default)().format("YYYY-MM-DD")&&(this.luckyNumberList=this.settingInfo.localLuckyNumberList),this.initTodayLuckyNumber(t.luckyNumberDate),this.initDrawLottery()}else this.initTodayLuckyNumber(null)},handleDrawerClose:function(){this.initCacheSetting(),this.isShowDrawer=!1},getLuckyNumber:function(){"5"===this.todayWeek?uni.showToast({title:"非常抱歉，今天是星期五，不提供随机号码选择~",icon:"none",duration:1998}):(this.showType="luckyNumber",this.checkIsOnlyFirstTodayConfig()&&(this.packageRandomList(),this.settingInfo.firstRandomDate=(0,u.default)().format("YYYY-MM-DD"),this.saveLuckySettingLocal()),this.drawerHeight="".concat(170+30*this.settingInfo.luckyCount+50,"px"),this.drawerType=0,this.isShowDrawer=!0)},checkIsOnlyFirstTodayConfig:function(){return!this.settingInfo.isOnlyFirstToday||this.settingInfo.firstRandomDate!==(0,u.default)().format("YYYY-MM-DD")},rollNumber:function(t,e,i){var a=(0,n.default)(t),o=(0,n.default)(e),r=Math.floor(Math.random()*o.length);if(a.push(o[r]),a=(0,c.quickSort)(a),o.splice(r,1),i--,i>0)return this.rollNumber(a,o,i);var s=this.checkSameNumber(a);return s&&0!==s.length?a:6===a.length?this.rollNumber([],this.luckyNumberRed,a.length):1===a.length?this.rollNumber([],this.luckyNumberBlue,a.length):5===a.length?this.rollNumber([],this.luckyNumberFront,a.length):2===a.length?this.rollNumber([],this.luckyNumberBack,a.length):void 0},checkSameNumber:function(t){var e=!1,i=(0,n.default)(t);if(!this.settingInfo.isNeedRepeat)for(var a=0;a<this.luckyNumberList.length;a++)(l.default.isEqual(i,this.luckyNumberList[a].lotteryNumberFirst)||l.default.isEqual(i,this.luckyNumberList[a].lotteryNumberSecond))&&(e=!0);return e?[]:i},packageRandomList:function(){if(this.luckyNumberList=[],"1"===this.todayWeek||"3"===this.todayWeek||"6"===this.todayWeek){this.luckyNumberList.push(this.packageTempObjForWX(this.luckyNumberDLT));for(var t=0;t<this.settingInfo.luckyCount-1;t++)this.luckyNumberList.push(this.packageTempObjForWX(this.packageTempObj("DLT",t)))}if("2"===this.todayWeek||"4"===this.todayWeek||"7"===this.todayWeek){this.luckyNumberList.push(this.packageTempObjForWX(this.luckyNumberSSQ));for(t=0;t<this.settingInfo.luckyCount-1;t++)this.luckyNumberList.push(this.packageTempObjForWX(this.packageTempObj("SSQ",t)))}this.settingInfo.isOnlyFirstToday&&(this.settingInfo.localLuckyNumberList=this.luckyNumberList,this.saveLuckySettingLocal()),this.checkHasTodayLuckyNumber()||this.packageRandomList()},checkHasTodayLuckyNumber:function(){var t=this;if(this.settingInfo.isNeedLuckyNumber){var e=!1;return this.luckyNumberList.forEach((function(i){i.lotteryNumberFirst.forEach((function(i){JSON.stringify(i.num)===JSON.stringify(t.settingInfo.todayLuckyNumber)&&(e=!0)})),i.lotteryNumberSecond.forEach((function(i){JSON.stringify(i.num)===JSON.stringify(t.settingInfo.todayLuckyNumber)&&(e=!0)}))})),e}return!0},packageTempObjForWX:function(t){var e=[],i=[],a=(0,o.default)({},t);return l.default.each(a.lotteryNumberFirst,(function(t,i){var a={num:t,key:Math.random()*t+i};e.push(a)})),l.default.each(a.lotteryNumberSecond,(function(t,e){var a={num:t,key:Math.random()*t+e};i.push(a)})),a.lotteryNumberFirst=e,a.lotteryNumberSecond=i,a},packageTempObj:function(t,e){var i={timeStamp:(new Date).getTime()+e,lotteryNumberFirst:[],lotteryNumberSecond:[]};return"DLT"===t&&(i.lotteryNumberFirst=this.rollNumber([],this.luckyNumberFront,5),i.lotteryNumberSecond=this.rollNumber([],this.luckyNumberBack,2)),"SSQ"===t&&(i.lotteryNumberFirst=this.rollNumber([],this.luckyNumberRed,6),i.lotteryNumberSecond=this.rollNumber([],this.luckyNumberBlue,1)),i},isNeedCloseDrawer:function(t){var e=this;(0,d.showConfirm)("".concat(t,"，是否需要为您关闭抽屉？")).then((function(t){null!==t&&void 0!==t&&t.confirm&&(e.drawerType=0,e.isShowDrawer=!1)}))},handleUplaodTodayNumber:function(t){var e=this,i=[(0,o.default)({},this.luckyNumberList[0])],a="";["1","3","6"].includes(this.todayWeek)&&(a="1"),["2","4","7"].includes(this.todayWeek)&&(a="2"),this.isNetworkLoading=!0;var n={recordNumber:t,chaseNumber:this.formatNumberListForUpload(i),numberType:a,weekType:this.todayWeek,hasMorePurchases:"N"};(0,h.addLog)(n).then((function(t){e.isNetworkLoading=!1,200===(null===t||void 0===t?void 0:t.code)?e.isNeedCloseDrawer("号码记录已经成功保存到云端"):uni.showToast({title:"号码记录保存失败，请联系管理员！",icon:"none",duration:1998})}))},uploadLuckyNumber:function(){var t=this;if(this.luckyNumberList&&this.luckyNumberList.length>0){var e=this.luckyNumberList.filter((function(t,e){return e>0})),i=this.formatNumberListForUpload(e),a={pageNum:1,pageSize:1,recordNumber:i};(0,h.getLogList)(a).then((function(e){var a;200===(null===e||void 0===e?void 0:e.code)?null!==e&&void 0!==e&&e.rows&&(null===e||void 0===e||null===(a=e.rows)||void 0===a?void 0:a.length)>0?(0,d.showConfirm)("查询到相同随机号码记录，是否需要再次上传该号码记录？").then((function(e){null!==e&&void 0!==e&&e.confirm&&t.handleUplaodTodayNumber(i)})):t.handleUplaodTodayNumber(i):uni.showToast({title:"查询历史号码记录失败，请联系管理员！",icon:"none",duration:1998})}))}else uni.showToast({title:"请先点击获取今日随机号码~",icon:"none",duration:1998})},uploadLuckyNumberDebounce:l.default.debounce((function(){this.uploadLuckyNumber()}),233),formatNumberListForUpload:function(t){var e="";return l.default.each(t,(function(i,a){l.default.each(null===i||void 0===i?void 0:i.lotteryNumberFirst,(function(t,a){e=a!==i.lotteryNumberFirst.length-1?e.concat("".concat(null===t||void 0===t?void 0:t.num,",")):e.concat("".concat(null===t||void 0===t?void 0:t.num,"-"))})),l.default.each(null===i||void 0===i?void 0:i.lotteryNumberSecond,(function(t,a){e=a!==i.lotteryNumberSecond.length-1?e.concat("".concat(null===t||void 0===t?void 0:t.num,",")):e.concat("".concat(null===t||void 0===t?void 0:t.num))})),a!==t.length-1&&(e=e.concat("/"))})),e},copyLuckyNumber:function(){var t,e=this,i="";t=document.getElementById("luckyNumberText").innerHTML.replace(/(<\/?span.*?>)/g," ").replace(/<\/?view.*?>/gi,"\n"),"1"!==this.todayWeek&&"3"!==this.todayWeek&&"6"!==this.todayWeek||(i=" 老板买"+this.settingInfo.luckyCount+"注自选号码大乐透\n",this.copyTextContent=i+t+""),"2"!==this.todayWeek&&"4"!==this.todayWeek&&"7"!==this.todayWeek||(i=" 老板买"+this.settingInfo.luckyCount+"注自选号码双色球\n",this.copyTextContent=i+t+""),uni.setClipboardData({data:e.copyTextContent,showToast:!1,success:function(t){e.isNeedCloseDrawer("已为您成功复制到剪切板"),console.log("uni.setClipboardData - success: "+JSON.stringify(t))},fail:function(t){uni.showToast({title:"卧槽复制失败了！请联系管理员处理! ",icon:"none",duration:1998}),console.error("uni.setClipboardData - fail: "+JSON.stringify(t))}})},packageContextForWX:function(){var t=this,e="";return l.default.each(this.luckyNumberList,(function(i,a){var n="",o="";l.default.each(i.lotteryNumberFirst,(function(t,e){n=n.concat(0===e?" ":"","".concat(JSON.stringify(t.num),"  "))})),l.default.each(i.lotteryNumberSecond,(function(t,e){o=o.concat(0===e?" ":"","".concat(JSON.stringify(t.num),"  "))})),e=e.concat(0===a?"\n":"","".concat(n,"- ").concat(o),"\n",a+1!==t.luckyNumberList.length?"\n":"")})),e},initLuckyNumber:function(){"1"!==this.todayWeek&&"3"!==this.todayWeek&&"6"!==this.todayWeek||this.initDLT(),"2"!==this.todayWeek&&"4"!==this.todayWeek&&"7"!==this.todayWeek||this.initSSQ(),this.initSSQ()},initSSQ:function(){this.luckyNumberRed=[],this.luckyNumberBlue=[];for(var t=0;t<33;t++)this.luckyNumberRed.push(t+1);for(t=0;t<16;t++)this.luckyNumberBlue.push(t+1)},initDLT:function(){this.luckyNumberFront=[],this.luckyNumberBack=[];for(var t=0;t<35;t++)this.luckyNumberFront.push(t+1);for(t=0;t<12;t++)this.luckyNumberBack.push(t+1)},showNowTime:function(){var t=this;this.timer=setInterval((function(){t.drawerTitle=(0,u.default)().format("YYYY-MM-DD hh:mm:ss dddd")}),1e3)},initTodayLuckyNumber:function(t){t&&t===(0,u.default)().format("YYYY-MM-DD")?"5"===this.todayWeek&&(this.settingInfo.todayLuckyNumber="0"):(this.settingInfo.luckyNumberDate=(0,u.default)().format("YYYY-MM-DD"),"1"!==this.todayWeek&&"3"!==this.todayWeek&&"6"!==this.todayWeek||(this.settingInfo.todayLuckyNumber=Math.floor(35*Math.random()+1)),"2"!==this.todayWeek&&"4"!==this.todayWeek&&"7"!==this.todayWeek||(this.settingInfo.todayLuckyNumber=Math.floor(33*Math.random()+1))),this.saveLuckySettingLocal()},editLuckySetting:function(){this.showType="luckySetting",this.drawerHeight="470px",this.drawerType+=1,this.isShowDrawer=!0},luckyCountChange:function(t){this.settingInfo.luckyCount=t,this.settingInfo.isOnlyFirstToday&&this.resetIsOnlyFirstToday()},isNeedRepeatChange:function(t){this.settingInfo.isNeedRepeat=t.detail.value,this.settingInfo.isOnlyFirstToday&&this.resetIsOnlyFirstToday()},isOnlyFirstTodayChange:function(t){this.settingInfo.isOnlyFirstToday=t.detail.value,this.settingInfo.localLuckyNumberList=this.luckyNumberList,t.detail.value||(this.settingInfo.firstRandomDate=null,this.settingInfo.localLuckyNumberList=[])},resetIsOnlyFirstToday:function(){this.isOnlyFirstTodayChange({detail:{value:!1}})},isNeedLuckyNumberChange:function(t){this.settingInfo.isNeedLuckyNumber=t.detail.value,this.settingInfo.isOnlyFirstToday&&this.resetIsOnlyFirstToday()},afterPicUploadFinished:function(){this.isNetworkLoading=!1,this.pictureUploadNumber=0},copyCheckTagText:function(){var t=this,e="";this.ocrTagCheckList.forEach((function(i,a){null!==i&&void 0!==i&&i.isCheck&&(e=a===t.ocrTagCheckList.length-1?e.concat(null===i||void 0===i?void 0:i.words):e.concat((null===i||void 0===i?void 0:i.words)+","))})),console.log("copyResTxt",e),uni.setClipboardData({data:e,showToast:!1,success:function(t){uni.showToast({title:"已为您成功复制到剪切板! ",icon:"none",duration:1998}),console.log("uni.setClipboardData - success: "+JSON.stringify(t))},fail:function(t){uni.showToast({title:"卧槽复制失败了！请联系管理员处理! ",icon:"none",duration:1998}),console.error("uni.setClipboardData - fail: "+JSON.stringify(t))}})},changeTagStatus:function(t){var e=this;this.ocrTagList[t].isCheck=!this.ocrTagList[t].isCheck,this.ocrTagCheckList=[],this.ocrTagList.forEach((function(t){null!==t&&void 0!==t&&t.isCheck&&e.ocrTagCheckList.push((0,o.default)({},t))}))},afterBaiduOcrSuccess:function(t){this.lotteryTicketArr=[],this.lotteryTicketArr.push(t),clearInterval(this.timer),this.timer=null,this.drawerTitle="待处理分析结果",this.showType="luckyPhoto",this.drawerHeight="80%",this.drawerType=0,this.isShowDrawer=!0},ocrResultCallBack:function(t,e){var i,a;if(console.log("ocrCallBackRes",t),this.afterPicUploadFinished(),null!==t&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.words_result&&(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.words_result.length)>0){var n,o=[],r=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.words_result;r.forEach((function(t,e){o.push({words:null===t||void 0===t?void 0:t.words,isCheck:!1,timeStamp:(new Date).getTime()+e})})),this.ocrTagList=[].concat(o)}else uni.showToast({title:"百度OCR识别结果为空，请联系管理员！",icon:"none",duration:1998});this.afterBaiduOcrSuccess(e)},analysisByBaiduOcr:function(t,e,i){var a=this;uni.request({method:"POST",timeout:102344,url:"/baiduOcrAuth",dataType:"json"}).then((function(t){var e,n;t&&t.length>1&&null!==(e=t[1])&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.access_token?uni.request({method:"POST",timeout:102344,url:"/baiduOcr",data:{url:i},header:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"json",success:function(t){a.ocrResultCallBack(t,i)},fail:function(t){uni.showToast({title:"百度OCR识别接口调用失败，请联系管理员！",icon:"none",duration:1998}),console.error("百度OCR识别接口调用失败: "+JSON.stringify(t)),a.afterPicUploadFinished()},complete:function(t){console.log("百度OCR识别接口调用完成: "+JSON.stringify(t))}}):(uni.showToast({title:"百度OCR鉴权接口调用失败，请联系管理员！",icon:"none",duration:1998}),a.afterPicUploadFinished())})).catch((function(t){a.afterPicUploadFinished()}))},qryBaiduOcrConfig:function(t){var e=this;getSecretConfig({secretKey:"ocrPubKey"}).then((function(i){if(i&&null!==i&&void 0!==i&&i.rows&&(null===i||void 0===i?void 0:i.rows.length)>0){var a=decryptString(i.rows[0].secretValue,getCryptoSaltKey());getSecretConfig({secretKey:"ocrSecKey"}).then((function(i){if(i&&null!==i&&void 0!==i&&i.rows&&(null===i||void 0===i?void 0:i.rows.length)>0){var n=decryptString(i.rows[0].secretValue,getCryptoSaltKey());e.analysisByBaiduOcr(a,n,t)}}))}}))},uploadPicForBaiDuOcr:function(e){var i=this;this.isNetworkLoading=!0,t.uploadFile({filePath:e[0].path,cloudPath:e[0].name,onUploadProgress:function(t){var e=Math.round(100*t.loaded/t.total);i.pictureUploadNumber=parseInt(e)},success:function(t){t&&null!==t&&void 0!==t&&t.success&&null!==t&&void 0!==t&&t.fileID?i.qryBaiduOcrConfig(null===t||void 0===t?void 0:t.fileID):i.afterPicUploadFinished()},fail:function(t){uni.showToast({title:"uniCloud图片上传接口调用失败，请联系管理员！",icon:"none",duration:1998}),console.error("uniCloud图片上传接口调用失败: "+JSON.stringify(t)),i.afterPicUploadFinished()},complete:function(t){console.log("uniCloud图片上传接口调用完成: "+JSON.stringify(t))}})},pickLocalPhotoCallBack:function(t,e){0===t&&(e&&e.length>0?this.uploadPicForBaiDuOcr(e):uni.showToast({title:"相册选择接口返回数据异常，请联系管理员！",icon:"none",duration:1998})),1===t&&("chooseMedia:fail cancel"!==(null===e||void 0===e?void 0:e.errMsg)&&uni.showToast({title:"相册选择接口调用失败，请联系管理员！",icon:"none",duration:1998}),console.error("相册选择接口调用失败: "+JSON.stringify(e))),2===t&&console.log("相册选择接口调用完成: "+JSON.stringify(e))},importLuckyImg:function(){var t=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){t.pickLocalPhotoCallBack(0,(null===e||void 0===e?void 0:e.tempFiles)||null)},fail:function(e){t.pickLocalPhotoCallBack(1,e)},complete:function(e){t.pickLocalPhotoCallBack(2,e)}})},useCamera:function(){uni.showToast({title:"H5拍照识别功能开发中！目前仅支持微信小程序拍照识别！",icon:"none",duration:1998})},previewImportImg:function(t){uni.previewImage({urls:[this.lotteryTicketArr[0]],longPressActions:{success:function(t){},fail:function(t){}}})},getTimeDuration:function(t,e,i){var a=u.default.duration((0,u.default)(parseInt(e)).diff((0,u.default)(parseInt(t))));return a.get(i)},checkIsCountLucky:function(){return this.settingInfo.firstLuckyDate!==(0,u.default)().format("YYYY-MM-DD")||!this.settingInfo.isCheckLuckyOver},isLuckyDay:function(t,e){var i=e;if(this.countLoading=!0,t)this.countStartTime=(0,u.default)().format("X");else{var a=(0,u.default)().format("X");console.log("当前计算已耗时：",this.getTimeDuration(this.countStartTime,a,"milliseconds"))}var n=this,o=1*Math.random()+0;if(i+=o,this.luckyRandomProgrss=Math.floor(i/888*100),this.luckyProgrssCount+=1,console.log("当前计算进度：".concat(this.luckyRandomProgrss,"%")),i>888){if(this.luckyProgrssCount%2===0){this.settingInfo.todayLuckyText="今天你真的很幸运！",uni.showToast({title:"今天你真的很幸运！",icon:"none",duration:1998})}else{this.settingInfo.todayLuckyText="哎呀今天不太走运，明天再试试吧！",uni.showToast({title:"哎呀今天不太走运，明天再试试吧！",icon:"none",duration:1998})}this.luckyRandomProgrss=0,this.luckyProgrssCount=0,this.countLoading=!1,this.settingInfo.isCheckLuckyOver=!0,this.saveLuckySettingLocal()}else this.luckyTimer=setTimeout((function(){n.isLuckyDay(!1,i)}),1)},getTodayLucky:function(){if("5"===this.todayWeek)uni.showToast({title:"非常抱歉，今天是星期五，无法获取今日运势~",icon:"none",duration:1998});else{var t=this;if(this.checkIsCountLucky())this.settingInfo.luckyClickTotal=0,this.saveLuckySettingLocal(),this.isLuckyDay(!0,0),this.settingInfo.firstLuckyDate=(0,u.default)().format("YYYY-MM-DD");else{if(this.settingInfo.luckyClickTotal<8){this.settingInfo.luckyClickTotal+=1;uni.showToast({title:"今天已经计算过了，".concat(this.settingInfo.todayLuckyText),icon:"none",duration:2888})}else{this.countLoading=!0;uni.showToast({title:"恭喜你触发彩蛋，重新计算今日运势！",icon:"none",duration:1998}),this.settingInfo.firstLuckyDate=null,this.settingInfo.isCheckLuckyOver=!1,this.settingInfo.todayLuckyText=null,this.settingInfo.luckyClickTotal=0,this.saveLuckySettingLocal(),setTimeout((function(){t.getTodayLucky()}),2098)}this.saveLuckySettingLocal()}}},getTimeDurationText:function(t){var e=u.default.duration(t,"seconds");return(0,u.default)({h:e.hours(),m:e.minutes(),s:e.seconds()}).format("HH:mm:ss")},fakeDrawLottery:function(t){if("5"===this.todayWeek)uni.showToast({title:"非常抱歉，今天是星期五，不提供模拟摇奖~",icon:"none",duration:1998});else{var e=this;if(this.isDrawLoading=!0,t)this.countStartTime=(0,u.default)().format("X"),this.drawLotteryTime=this.settingInfo.drawLotteryTimeHistory;else{var i=(0,u.default)().format("X");this.drawLotteryTime=this.settingInfo.drawLotteryTimeHistory+this.getTimeDuration(this.countStartTime,i,"milliseconds"),console.log("摇奖总耗时：",this.drawLotteryTime,"秒"),this.drawLotteryText="模拟摇奖中，已耗时：".concat(this.getTimeDurationText(this.drawLotteryTime))}this.settingInfo.luckyCount=2,this.settingInfo.isOnlyFirstToday=!1,this.packageRandomList();var a=[];this.luckyNumberList[1].lotteryNumberFirst.forEach((function(t){a.push(t.num)})),this.luckyNumberList[1].lotteryNumberSecond.forEach((function(t){a.push(t.num)}));var n=a.join(",");this.packageRandomList();var o=[];this.luckyNumberList[1].lotteryNumberFirst.forEach((function(t){o.push(t.num)})),this.luckyNumberList[1].lotteryNumberSecond.forEach((function(t){o.push(t.num)}));var r=o.join(","),s=l.default.isEqual(n,r);if(console.log("".concat(n,"\n").concat(r,"\n是否中奖：").concat(s)),s)this.isDrawLoading=!1,console.log("今日模拟中奖号码：",r),this.settingInfo.bigRewardNumber=r,this.settingInfo.isGetBigReward=!0,this.saveLuckySettingLocal();else{clearTimeout(this.fakeDrawTimer),this.fakeDrawTimer=null;this.fakeDrawTimer=setTimeout((function(){e.fakeDrawLottery(!1)}),1)}}},stopDrawLottery:function(){this.isDrawLoading=!1;var t=this.drawLotteryTime;this.initCacheSettingLocal(),this.drawLotteryText="继续摇奖，已耗时：".concat(this.getTimeDurationText(t)),this.settingInfo.drawLotteryTimeHistory=t,this.saveLuckySettingLocal(),clearTimeout(this.fakeDrawTimer),this.fakeDrawTimer=null},initDrawLottery:function(){!this.settingInfo.isGetBigReward&&this.settingInfo.drawLotteryTimeHistory>0?this.drawLotteryText="继续摇奖，已耗时：".concat(this.getTimeDurationText(this.settingInfo.drawLotteryTimeHistory)):this.settingInfo.isGetBigReward?(this.drawLotteryText="已中奖，中奖号码是：".concat(this.settingInfo.bigRewardNumber),this.settingInfo.drawLotteryTimeHistory=0):this.drawLotteryText="模拟摇奖"}}};e.default=m}).call(this,i("a9ff")["default"])},8118:function(t,e,i){"use strict";i.r(e);var a=i("7ebd"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"84c4":function(t,e,i){var a=i("76bb");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("8a51f6f8",a,!0,{sourceMap:!1,shadowMode:!1})},"8e28":function(t,e,i){"use strict";var a=i("84c4"),n=i.n(a);n.a},9475:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("b540").default,zbDrawer:i("0ed7").default,uniNumberBox:i("d22a").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"fx67ll-tools-box"},[i("v-uni-view",{staticClass:"fx67ll-btn-box"},[i("v-uni-view",{staticClass:"fx67ll-btn-item fx67ll-btn-item-two"},[i("v-uni-button",{staticClass:"fx67ll-btn-default",attrs:{type:"default",disabled:t.isNetworkLoading||t.countLoading||t.isDrawLoading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getLuckyNumber.apply(void 0,arguments)}}},[t._v("获取今日随机号码")]),t.isNetworkLoading||t.countLoading||t.isDrawLoading?t._e():i("uni-icons",{staticClass:"fx67ll-btn-icon",attrs:{type:"gear-filled",size:t.iconSize},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.editLuckySetting.apply(void 0,arguments)}}}),t.isNetworkLoading||t.countLoading||t.isDrawLoading?i("uni-icons",{staticClass:"fx67ll-btn-loading",attrs:{type:"spinner-cycle",size:t.iconSize}}):t._e()],1),t.userName&&"fx67ll"===t.userName?i("v-uni-view",{staticClass:"fx67ll-btn-item fx67ll-btn-item-two"},[i("v-uni-button",{staticClass:"fx67ll-btn-default",attrs:{type:"default",disabled:t.isNetworkLoading||t.countLoading||t.isDrawLoading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.importLuckyImg.apply(void 0,arguments)}}},[0!==parseInt(t.pictureUploadNumber)||t.isNetworkLoading?t._e():i("span",[t._v("上传照片自动分析")]),0===parseInt(t.pictureUploadNumber)&&t.isNetworkLoading?i("span",[t._v("功能正在初始化...")]):t._e(),0!==parseInt(t.pictureUploadNumber)?i("span",[t._v("上传进度:"+t._s(t.pictureUploadNumber)+"%, 正在解析数据中...")]):t._e()]),t.isNetworkLoading||t.countLoading||t.isDrawLoading?t._e():i("uni-icons",{staticClass:"fx67ll-btn-icon",attrs:{type:"camera-filled",size:t.iconSize},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.useCamera.apply(void 0,arguments)}}}),t.isNetworkLoading||t.countLoading||t.isDrawLoading?i("uni-icons",{staticClass:"fx67ll-btn-loading",attrs:{type:"spinner-cycle",size:t.iconSize}}):t._e()],1):t._e(),t.isDrawLoading?t._e():i("v-uni-view",{staticClass:"fx67ll-btn-item"},[i("v-uni-button",{staticClass:"fx67ll-btn-default",attrs:{type:"warn",disabled:t.isNetworkLoading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fakeDrawLottery(!0)}}},[t._v(t._s(t.drawLotteryText))])],1),t.isDrawLoading?i("v-uni-view",{staticClass:"fx67ll-btn-item fx67ll-btn-item-two"},[i("v-uni-button",{staticClass:"fx67ll-btn-default",attrs:{type:"warn",disabled:t.isDrawLoading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fakeDrawLottery(!0)}}},[t._v(t._s(t.drawLotteryText))]),i("uni-icons",{staticClass:"fx67ll-btn-icon",attrs:{type:"minus",size:t.iconSize},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.stopDrawLottery.apply(void 0,arguments)}}})],1):t._e(),i("v-uni-view",{staticClass:"fx67ll-btn-item"},[i("v-uni-button",{staticClass:"fx67ll-btn-default",attrs:{type:"warn",disabled:t.isNetworkLoading||t.countLoading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getTodayLucky.apply(void 0,arguments)}}},[t._v(t._s(t.countLoading?"正在为您计算今日运势："+t.luckyRandomProgrss+"%":"点击看看今天运势如何"))])],1)],1),t.settingInfo.todayLuckyNumber?i("v-uni-view",{staticClass:"fx67ll-lucky-box"},[i("v-uni-view",{staticClass:"fx67ll-lucky-bumber"},[t._v(t._s(t.settingInfo.todayLuckyNumber))]),i("v-uni-view",{staticClass:"fx67ll-lucky-title"},[t._v("今日推荐幸运数字")])],1):t._e(),i("zb-drawer",{attrs:{mode:"bottom",title:t.drawerTitle,wrapperClosable:!1,visible:t.isShowDrawer,radius:!0,height:t.drawerHeight,"before-close":t.handleDrawerClose},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.isShowDrawer=e}}},["luckyNumber"===t.showType?i("v-uni-view",[i("v-uni-view",{staticClass:"fx67ll-number-box",attrs:{id:"luckyNumberText"}},t._l(t.luckyNumberList,(function(e){return i("v-uni-view",{key:e.timeStamp,staticClass:"fx67ll-number-item"},[t._l(e.lotteryNumberFirst,(function(e){return i("span",{key:e.key},[t._v(t._s(e.num))])})),t._v("-"),t._l(e.lotteryNumberSecond,(function(e){return i("span",{key:e.key},[t._v(t._s(e.num))])}))],2)})),1),i("v-uni-view",{staticClass:"fx67ll-drawer-btn-box h5"},[i("v-uni-button",{staticClass:"fx67ll-btn-copy",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyLuckyNumber.apply(void 0,arguments)}}},[t._v("拷贝至剪切板")]),i("v-uni-button",{staticClass:"fx67ll-btn-submit",attrs:{loading:t.isNetworkLoading,disabled:t.isNetworkLoading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadLuckyNumberDebounce.apply(void 0,arguments)}}},[t._v("保存到云端")])],1)],1):t._e(),"luckyPhoto"===t.showType?i("v-uni-scroll-view",{staticClass:"fx67ll-drawer-img",attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"fx67ll-drawer-tip"},[t._v("请注意！每次的分析结果数据不会保存到云端，关闭当前弹窗后将无法再次获取历史识别结果~")]),i("v-uni-view",{staticClass:"fx67ll-ocr-lottery"},[!t.ocrTagList||t.ocrTagList.length<1?i("v-uni-view",{staticClass:"fx67ll-drawer-title"},[t._v("本次OCR未识别到文字！")]):t._e(),i("v-uni-view",{staticClass:"fx67ll-ocr-btn"},[t.ocrTagList&&t.ocrTagList.length>0&&t.ocrTagCheckList&&t.ocrTagCheckList.length>0?i("v-uni-button",{attrs:{type:"warn"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyCheckTagText.apply(void 0,arguments)}}},[t._v("拷贝选中的文字至剪切板")]):t._e()],1),t.ocrTagList&&t.ocrTagList.length>0&&t.ocrTagCheckList&&0===t.ocrTagCheckList.length?i("v-uni-view",{staticClass:"fx67ll-drawer-title"},[t._v("尝试点击识别结果中你需要的的文字分块吧！")]):t._e(),t.ocrTagList&&t.ocrTagList.length>0&&t.ocrTagCheckList&&t.ocrTagCheckList.length>0?i("v-uni-view",{staticClass:"fx67ll-drawer-title"},[t._v("您已选中以下识别结果:")]):t._e(),t.ocrTagList&&t.ocrTagList.length>0?i("v-uni-view",{staticClass:"fx67ll-ocr-result"},t._l(t.ocrTagList,(function(e,a){return i("span",{key:e.timeStamp,class:{"fx67ll-ocr-tag":e.isCheck,"fx67ll-ocr-tag-choose":e.isCheck},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTagStatus(a)}}},[e.isCheck?i("v-uni-text",[t._v(t._s(e.words||"--"))]):t._e()],1)})),0):t._e(),t.ocrTagList&&t.ocrTagList.length>0?i("v-uni-view",{staticClass:"fx67ll-drawer-title"},[t._v("本次百度OCR识别的结果:")]):t._e(),t.ocrTagList&&t.ocrTagList.length>0?i("v-uni-view",{staticClass:"fx67ll-ocr-result"},t._l(t.ocrTagList,(function(e,a){return i("span",{key:e.timeStamp,class:{"fx67ll-ocr-tag":!0,"fx67ll-ocr-tag-check":e.isCheck},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTagStatus(a)}}},[t._v(t._s(e.words||"--"))])})),0):t._e()],1),i("v-uni-view",{staticClass:"fx67ll-ocr-lottery"},[i("v-uni-view",{staticClass:"fx67ll-drawer-title"},[t._v("本次百度OCR识别的照片:")]),i("v-uni-image",{attrs:{mode:"widthFix",src:t.lotteryTicketArr[0]},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImportImg.apply(void 0,arguments)}}})],1)],1):t._e(),"luckySetting"===t.showType?i("v-uni-view",{staticClass:"fx67ll-drawer-setting"},[i("v-uni-view",{staticClass:"fx67ll-setting-item"},[i("span",[t._v("需要随机输出的注数")]),i("uni-number-box",{attrs:{min:1,max:5},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.luckyCountChange.apply(void 0,arguments)}},model:{value:t.settingInfo.luckyCount,callback:function(e){t.$set(t.settingInfo,"luckyCount",e)},expression:"settingInfo.luckyCount"}})],1),i("v-uni-view",{staticClass:"fx67ll-setting-item"},[i("span",[t._v("是否允许出现重复串号")]),i("v-uni-switch",{staticClass:"fx67ll-setting-switch",attrs:{checked:t.settingInfo.isNeedRepeat},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.isNeedRepeatChange.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"fx67ll-setting-item"},[i("span",[t._v("当日幸运数字是否要包含在内")]),i("v-uni-switch",{staticClass:"fx67ll-setting-switch",attrs:{checked:t.settingInfo.isNeedLuckyNumber},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.isNeedLuckyNumberChange.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"fx67ll-setting-item"},[i("span",[t._v("当日是否仅允许生成一次随机")]),i("v-uni-switch",{staticClass:"fx67ll-setting-switch",attrs:{checked:t.settingInfo.isOnlyFirstToday},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.isOnlyFirstTodayChange.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"fx67ll-setting-tip"},[t._v("Tip-1：修改其他设置会重置"),i("v-uni-text",[t._v('"当日是否仅允许生成一次随机"')]),t._v("设置，请手动重新配置即可")],1),i("v-uni-view",{staticClass:"fx67ll-setting-tip"},[t._v("Tip-2：摇奖设置会自动保存到本地，本地缓存会有丢失风险，请按需保存到云端")]),i("v-uni-button",{staticClass:"fx67ll-btn-save fx67ll-btn-save-h5",attrs:{type:"primary",loading:t.isNetworkLoading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveLuckySettingDebounce(!1)}}},[t._v("保存设置到云端")])],1):t._e()],1)],1)},o=[]},9753:function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.addSetting=function(t){return(0,n.default)({url:"/lottery/setting/addLotterySettingConfigForApp",method:"post",data:t})},e.getSetting=function(){return(0,n.default)({url:"/lottery/setting/getLotterySettingConfigForApp",method:"get"})},e.updateSetting=function(t){return(0,n.default)({url:"/lottery/setting/editLotterySettingConfigForApp",method:"put",data:t})};var n=a(i("e3d7"))},"99ad":function(t,e,i){"use strict";i.r(e);var a=i("233e"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},a58a:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var a={name:"UniNumberBox",emits:["change","input","update:modelValue","blur","focus"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},background:{type:String,default:"#f5f5f5"},color:{type:String,default:"#333"},disabled:{type:Boolean,default:!1}},data:function(){return{inputValue:0}},watch:{value:function(t){this.inputValue=+t},modelValue:function(t){this.inputValue=+t}},created:function(){1===this.value&&(this.inputValue=+this.modelValue),1===this.modelValue&&(this.inputValue=+this.value)},methods:{_calcValue:function(t){if(!this.disabled){var e=this._getDecimalScale(),i=this.inputValue*e,a=this.step*e;if("minus"===t){if(i-=a,i<this.min*e)return;i>this.max*e&&(i=this.max*e)}if("plus"===t){if(i+=a,i>this.max*e)return;i<this.min*e&&(i=this.min*e)}this.inputValue=(i/e).toFixed(String(e).length-1),this.$emit("change",+this.inputValue),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue)}},_getDecimalScale:function(){var t=1;return~~this.step!==this.step&&(t=Math.pow(10,String(this.step).split(".")[1].length)),t},_onBlur:function(t){this.$emit("blur",t);var e=t.detail.value;if(isNaN(e))this.inputValue=this.min;else{e=+e,e>this.max?e=this.max:e<this.min&&(e=this.min);var i=this._getDecimalScale();this.inputValue=e.toFixed(String(i).length-1),this.$emit("change",+this.inputValue),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue)}},_onFocus:function(t){this.$emit("focus",t)}}};e.default=a},b055:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-numbox[data-v-01518b78]{display:flex;flex-direction:row}.uni-numbox-btns[data-v-01518b78]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:0 8px;background-color:#f5f5f5;cursor:pointer}.uni-numbox__value[data-v-01518b78]{margin:0 2px;background-color:#f5f5f5;width:40px;height:26px;text-align:center;font-size:14px;border-left-width:0;border-right-width:0;color:#333}.uni-numbox__minus[data-v-01518b78]{border-top-left-radius:2px;border-bottom-left-radius:2px}.uni-numbox__plus[data-v-01518b78]{border-top-right-radius:2px;border-bottom-right-radius:2px}.uni-numbox--text[data-v-01518b78]{line-height:20px;font-size:20px;font-weight:300;color:#333}.uni-numbox .uni-numbox--disabled[data-v-01518b78]{color:silver!important;cursor:not-allowed}',""]),t.exports=e},c5f3:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"zb-drawer__wrapper",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"mask",class:{mask__visible:t.show&&t.mask&&t.modal},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.close("mask")}}}),i("v-uni-view",{staticClass:"zb-drawer__container",class:["zb-drawer_"+t.mode,{animation:t.isMove,"content--visible":t.mask&&("left"===t.mode||"right"===t.mode),"content--visible_Y":t.mask&&("top"===t.mode||"bottom"===t.mode),"content--visible_top":t.radius&&"top"===t.mode,"content--visible_bottom":t.radius&&"bottom"===t.mode}],style:[{top:!!(t.top>0||t.top)&&t.top,width:"left"===t.mode||"right"===t.mode?t.getWidth:"100%",height:"top"===t.mode||"bottom"===t.mode?t.height:"100%"},t.style],on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.touchmove.apply(void 0,arguments)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t.withHeader?i("v-uni-view",{staticClass:"zb_drawer__header"},[t._t("title",[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))])]),t.showClose?i("v-uni-view",{staticClass:"close-wrap",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close("cancel")}}},[i("v-uni-view",{staticClass:"close"})],1):t._e()],2):t._e(),i("v-uni-view",{staticClass:"zb_drawer__body"},[t._t("default")],2)],1)],1)},n=[]},d22a:function(t,e,i){"use strict";i.r(e);var a=i("1ffc"),n=i("e37a6");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("6894");var r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"01518b78",null,!1,a["a"],void 0);e["default"]=s.exports},e37a6:function(t,e,i){"use strict";i.r(e);var a=i("a58a"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},f174:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".flex-box[data-v-528a3b93]{display:flex;flex-direction:column;align-items:center;justify-content:center}.text-ellipsis[data-v-528a3b93]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.text-ellipsis-two[data-v-528a3b93]{text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.status_bar[data-v-528a3b93]{height:0;width:100%;z-index:10}.top-nav[data-v-528a3b93]{width:100%;height:%?88?%;position:fixed;top:0;background-color:#fff;display:flex;justify-content:space-between;align-items:center;z-index:10}.top-nav .top-nav-back[data-v-528a3b93]{width:25%}.top-nav .top-nav-back .top-nav-back-icon[data-v-528a3b93]{padding:%?15?% %?15?% %?15?% %?30?%}.top-nav .top-nav-title[data-v-528a3b93]{width:45%;text-align:center;font-size:%?34?%;color:#000}.top-nav .top-nav-btn[data-v-528a3b93]{width:calc(25% - %?30?%);text-align:right;margin-right:%?30?%;font-size:%?28?%;color:#838383;position:relative;top:%?3?%}.top-nav-fake[data-v-528a3b93]{width:100%;height:%?88?%}.top-nav-search[data-v-528a3b93]{width:100%;height:%?80?%;background-color:#fff;position:fixed;top:%?88?%;z-index:10}.top-nav-search .nav-search-box[data-v-528a3b93]{width:calc(100% - %?30?% * 2);height:%?72?%;background-color:#f8f8f8;margin:calc(%?80?% - %?72?%) auto 0 auto;border-radius:%?50?%;display:flex;justify-content:space-between;align-items:center}.top-nav-search .nav-search-box .nav-search-icon[data-v-528a3b93]{position:relative;left:%?26?%;top:%?-2?%}.top-nav-search .nav-search-box .nav-search-input[data-v-528a3b93]{width:calc(100% - %?80?%);height:100%;font-size:%?24?%}.top-nav-search .nav-search-box .nav-input-placeholder[data-v-528a3b93]{font-size:%?28?%;color:#c8c8c8}.nav-search-box-invoice[data-v-528a3b93]{width:calc(100% - %?30?% * 2);margin:0 auto;display:flex;justify-content:space-between;align-items:center}.nav-search-box-invoice .nav-search-box[data-v-528a3b93]{width:calc(100% - %?140?%)}.nav-search-box-invoice .nav-search-filter[data-v-528a3b93]{width:%?140?%;font-size:%?28?%;color:#313131;display:flex;justify-content:flex-end;align-items:center;position:relative;top:%?10?%}.nav-search-box-invoice .nav-search-filter .nav-search-filter-text[data-v-528a3b93]{margin-right:%?8?%}.nav-search-box-invoice .nav-search-filter .nav-search-filter-icon[data-v-528a3b93]{margin-right:%?20?%;position:relative;top:%?1?%}.top-nav-tab[data-v-528a3b93]{width:100%;height:%?100?%;background-color:#fff;position:fixed;top:calc(%?88?% + %?80?%);z-index:10}.top-nav-tab .nav-tab-box[data-v-528a3b93]{margin:0 auto}.top-nav-tab .nav-tab-box-two[data-v-528a3b93]{width:75%}.top-nav-tab .nav-tab-box-four[data-v-528a3b93]{width:100%}.top-nav-tab .nav-tab-box-three[data-v-528a3b93]{width:100%}.top-nav-fake-high[data-v-528a3b93]{width:100%;height:calc(%?88?% + %?80?% + %?100?%)}.top-nav-fake-middle[data-v-528a3b93]{width:100%;height:calc(%?88?% + %?80?%)}.fx67ll-tools-box[data-v-528a3b93]{padding:%?50?%}.fx67ll-tools-box .fx67ll-btn-box[data-v-528a3b93]{padding-bottom:%?50?%}.fx67ll-tools-box .fx67ll-btn-box .fx67ll-btn-item[data-v-528a3b93]{margin-bottom:%?40?%}.fx67ll-tools-box .fx67ll-btn-box .fx67ll-btn-item[data-v-528a3b93]:last-child{margin-bottom:0}.fx67ll-tools-box .fx67ll-btn-box .fx67ll-btn-item-two[data-v-528a3b93]{display:flex;justify-content:space-between;align-items:center}.fx67ll-tools-box .fx67ll-btn-box .fx67ll-btn-item-two .fx67ll-btn-default[data-v-528a3b93]{width:calc(100% - %?60?%)}.fx67ll-tools-box .fx67ll-btn-box .fx67ll-btn-item-two .fx67ll-btn-icon[data-v-528a3b93]{width:%?60?%;height:%?60?%;padding:0 %?10?% 0 %?20?%}.fx67ll-tools-box .fx67ll-lucky-box[data-v-528a3b93]{width:100%}.fx67ll-tools-box .fx67ll-lucky-box .fx67ll-lucky-bumber[data-v-528a3b93]{width:100%;height:%?400?%;line-height:%?400?%;text-align:center;font-size:%?200?%;color:#e64340}.fx67ll-tools-box .fx67ll-lucky-box .fx67ll-lucky-title[data-v-528a3b93]{width:100%;text-align:center;position:relative;-webkit-animation:jumpTip-data-v-528a3b93 .4s linear infinite alternate;animation:jumpTip-data-v-528a3b93 .4s linear infinite alternate}.fx67ll-number-box[data-v-528a3b93]{padding:%?70?%}.fx67ll-number-box .fx67ll-number-item[data-v-528a3b93]{display:flex;justify-content:space-around;margin:0 auto;margin-bottom:%?20?%;text-align:center}.fx67ll-number-box .fx67ll-number-item span[data-v-528a3b93]{width:%?50?%}.fx67ll-btn-save[data-v-528a3b93]{width:calc(100% - %?40?% * 2);position:absolute;bottom:%?40?%;left:%?40?%}.fx67ll-btn-save-h5[data-v-528a3b93]{bottom:calc(%?40?% + 50px)}.fx67ll-drawer-btn-box[data-v-528a3b93]{width:calc(100% - %?40?% * 2);position:absolute;bottom:%?40?%;left:%?40?%;display:flex;justify-content:space-between}.fx67ll-drawer-btn-box.h5[data-v-528a3b93]{bottom:calc(%?40?% + 50px)}.fx67ll-drawer-btn-box .fx67ll-btn-copy[data-v-528a3b93]{width:calc(55% - %?40?%)}.fx67ll-drawer-btn-box .fx67ll-btn-submit[data-v-528a3b93]{width:45%}.fx67ll-drawer-img[data-v-528a3b93]{height:100%;padding:%?40?%}.fx67ll-drawer-img .fx67ll-drawer-tip[data-v-528a3b93]{font-size:%?30?%;font-weight:700;margin-bottom:%?40?%;color:#ffa940}.fx67ll-drawer-img .fx67ll-ocr-lottery[data-v-528a3b93]{margin-bottom:%?40?%}.fx67ll-drawer-img .fx67ll-ocr-lottery .fx67ll-drawer-title[data-v-528a3b93]{font-size:%?30?%;font-weight:700;color:#ff4d4f;margin-bottom:%?20?%}.fx67ll-drawer-img .fx67ll-ocr-lottery .fx67ll-ocr-result[data-v-528a3b93]{display:flex;justify-content:flex-start;align-items:center;flex-wrap:wrap;margin-bottom:%?40?%}.fx67ll-drawer-img .fx67ll-ocr-lottery .fx67ll-ocr-result .fx67ll-ocr-tag[data-v-528a3b93]{padding:%?10?% %?20?%;text-align:center;background-color:#2ecc71;color:#fff;border-radius:4px;margin-right:%?30?%;margin-bottom:%?20?%}.fx67ll-drawer-img .fx67ll-ocr-lottery .fx67ll-ocr-result .fx67ll-ocr-tag-check[data-v-528a3b93]{background-color:#fff;color:#2ecc71;border:1px solid #2ecc71}.fx67ll-drawer-img .fx67ll-ocr-lottery .fx67ll-ocr-result .fx67ll-ocr-tag-choose[data-v-528a3b93]{background-color:#2ecc71;color:#fff;border:1px solid #2ecc71}.fx67ll-drawer-img .fx67ll-ocr-lottery .fx67ll-ocr-btn[data-v-528a3b93]{width:100%;padding-bottom:%?40?%}.fx67ll-drawer-img .fx67ll-ocr-lottery .fx67ll-ocr-result[data-v-528a3b93]:last-child{margin-bottom:0}.fx67ll-drawer-setting[data-v-528a3b93]{padding:%?50?% %?60?% %?60?% %?60?%}.fx67ll-drawer-setting .fx67ll-setting-item[data-v-528a3b93]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?30?%}.fx67ll-drawer-setting .fx67ll-setting-item .fx67ll-setting-switch[data-v-528a3b93]{zoom:.7}.fx67ll-drawer-setting .fx67ll-setting-item[data-v-528a3b93]:last-child{margin-bottom:0}.fx67ll-drawer-setting .fx67ll-setting-tip[data-v-528a3b93]{font-size:%?26?%;color:#e64340;margin-bottom:%?20?%}.fx67ll-drawer-setting .fx67ll-setting-tip uni-text[data-v-528a3b93]{padding:0 %?10?%}@keyframes jumpTip-data-v-528a3b93{from{top:-20px}to{top:-10px}}@-webkit-keyframes jumpTip-data-v-528a3b93{from{top:-20px}to{top:-10px}}.fx67ll-btn-loading[data-v-528a3b93]{-webkit-animation:spinInfinite-data-v-528a3b93 1s linear infinite;animation:spinInfinite-data-v-528a3b93 1s linear infinite}@keyframes spinInfinite-data-v-528a3b93{from{-webkit-transform:rotate(1turn);transform:rotate(1turn)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@-webkit-keyframes spinInfinite-data-v-528a3b93{from{-webkit-transform:rotate(1turn);transform:rotate(1turn)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}",""]),t.exports=e}}]);