(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-server-tomcat-index"],{"4ad2":function(t,n,r){"use strict";r("7a82"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r("d3b7"),r("99af");var e=r("db41"),a={name:"TomcatManager",data:function(){return{status:"加载中...",lastRefreshTime:"",logInfo:"",isOperating:!1,refreshInterval:null,isRefreshing:!1,tcpStatus:"waiting",httpStatus:"waiting",testingTcp:!1,testingHttp:!1,githubLogInfo:"",lastGithubTestTime:"",isRefreshingGithub:!1}},computed:{tcpStatusClass:function(){return{waiting:"status-waiting",testing:"status-testing",success:"status-success",error:"status-error"}[this.tcpStatus]||"status-waiting"},httpStatusClass:function(){return{waiting:"status-waiting",testing:"status-testing",success:"status-success",error:"status-error"}[this.httpStatus]||"status-waiting"}},onLoad:function(){var t=this;this.queryStatus(),this.refreshInterval=setInterval((function(){t.queryStatus()}),1e4)},onUnload:function(){this.refreshInterval&&clearInterval(this.refreshInterval)},methods:{handleRefresh:function(){var t=this;this.isRefreshing=!0,this.queryStatus().finally((function(){t.isRefreshing=!1}))},handleRefreshGithub:function(){var t=this;this.isRefreshingGithub=!0,this.tcpStatus="waiting",this.httpStatus="waiting",this.githubLogInfo="",setTimeout((function(){t.isRefreshingGithub=!1}),500)},queryStatus:function(){var t=this;return new Promise((function(n,r){(0,e.getTomcatStatus)().then((function(r){t.status=r.data,t.lastRefreshTime=t.formatDateTime(new Date),n()})).catch((function(n){uni.showToast({title:"查询状态失败: "+(n.msg||n.message),icon:"none",duration:2e3}),t.status="未知",r(n)}))}))},startTomcat:function(){var t=this;uni.showModal({title:"提示",content:"确定要启动Tomcat服务吗？",confirmText:"确定",cancelText:"取消",success:function(n){n.confirm?(t.isOperating=!0,t.logInfo="正在启动Tomcat服务...",(0,e.startTomcat)().then((function(n){uni.showToast({title:n.msg,icon:"success",duration:2e3}),t.logInfo=n.data||n.msg,setTimeout((function(){t.queryStatus(),setTimeout((function(){t.queryStatus(),t.isOperating=!1}),3e3)}),1e3)})).catch((function(n){uni.showToast({title:n.msg||"启动失败",icon:"none",duration:2e3}),t.logInfo=n.msg||"启动失败",t.isOperating=!1,t.queryStatus()}))):uni.showToast({title:"已取消启动",icon:"none",duration:2e3})}})},stopTomcat:function(){var t=this;uni.showModal({title:"警告",content:"确定要停止Tomcat服务吗？停止后可能导致相关应用无法访问。",confirmText:"确定",cancelText:"取消",success:function(n){n.confirm?(t.isOperating=!0,t.logInfo="正在停止Tomcat服务...",(0,e.stopTomcat)().then((function(n){uni.showToast({title:n.msg,icon:"success",duration:2e3}),t.logInfo=n.data||n.msg,setTimeout((function(){t.queryStatus(),setTimeout((function(){t.queryStatus(),t.isOperating=!1}),3e3)}),1e3)})).catch((function(n){uni.showToast({title:n.msg||"停止失败",icon:"none",duration:2e3}),t.logInfo=n.msg||"停止失败",t.isOperating=!1,t.queryStatus()}))):uni.showToast({title:"已取消停止",icon:"none",duration:2e3})}})},testTcpConnectivity:function(){var t=this;this.testingTcp=!0,this.tcpStatus="testing",this.githubLogInfo="正在检测 GitHub TCP 连通性...",(0,e.testConnectToGithubByTcp)().then((function(n){t.tcpStatus="success",t.githubLogInfo="TCP检测成功：".concat(n.msg,"\n详细信息：").concat(n.data),t.lastGithubTestTime=t.formatDateTime(new Date),uni.showToast({title:"GitHub TCP连通性检测成功",icon:"success",duration:2e3})})).catch((function(n){t.tcpStatus="error",t.githubLogInfo="TCP检测失败：".concat(n.msg||n.message),t.lastGithubTestTime=t.formatDateTime(new Date),uni.showToast({title:"GitHub TCP连通性检测失败",icon:"none",duration:2e3})})).finally((function(){t.testingTcp=!1}))},testHttpConnectivity:function(){var t=this;this.testingHttp=!0,this.httpStatus="testing",this.githubLogInfo="正在检测 GitHub HTTP 连通性...",(0,e.testConnectToGithubByHttp)().then((function(n){t.httpStatus="success",t.githubLogInfo="HTTP检测成功：".concat(n.msg,"\n详细信息：").concat(n.data),t.lastGithubTestTime=t.formatDateTime(new Date),uni.showToast({title:"GitHub HTTP连通性检测成功",icon:"success",duration:2e3})})).catch((function(n){t.httpStatus="error",t.githubLogInfo="HTTP检测失败：".concat(n.msg||n.message),t.lastGithubTestTime=t.formatDateTime(new Date),uni.showToast({title:"GitHub HTTP连通性检测失败",icon:"none",duration:2e3})})).finally((function(){t.testingHttp=!1}))},getStatusText:function(t){return{waiting:"等待检测",testing:"检测中...",success:"连接正常",error:"连接失败"}[t]||"未知状态"},formatDateTime:function(t){var n=t.getFullYear(),r=this.padZero(t.getMonth()+1),e=this.padZero(t.getDate()),a=this.padZero(t.getHours()),s=this.padZero(t.getMinutes()),i=this.padZero(t.getSeconds());return"".concat(n,"-").concat(r,"-").concat(e," ").concat(a,":").concat(s,":").concat(i)},padZero:function(t){return t<10?"0".concat(t):t}}};n.default=a},"593c":function(t,n,r){"use strict";r.d(n,"b",(function(){return a})),r.d(n,"c",(function(){return s})),r.d(n,"a",(function(){return e}));var e={uniIcons:r("b540").default},a=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("v-uni-view",{staticClass:"app-container"},[r("v-uni-view",{staticClass:"status-card"},[r("v-uni-view",{staticClass:"status-header"},[r("v-uni-view",{staticClass:"refresh-container"},[r("v-uni-button",{staticClass:"refresh-btn",attrs:{loading:t.isRefreshing},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleRefresh.apply(void 0,arguments)}}},[r("uni-icons",{attrs:{type:"refresh",size:"16",color:"#409eff"}}),r("v-uni-text",{staticClass:"btn-text"},[t._v("手动刷新")])],1),r("v-uni-text",{staticClass:"refresh-time"},[t._v("最后刷新: "+t._s(t.lastRefreshTime))])],1)],1),r("v-uni-view",{staticClass:"status-content"},[r("v-uni-view",{staticClass:"status-indicator"},[r("v-uni-view",{staticClass:"indicator-dot",class:"运行中"===t.status?"running":"stopped"}),r("v-uni-text",{staticClass:"status-text"},[t._v(t._s(t.status))])],1),r("v-uni-view",{staticClass:"operation-buttons"},[r("v-uni-button",{staticClass:"btn start-btn",attrs:{disabled:"运行中"===t.status||t.isOperating,loading:t.isOperating&&"运行中"!==t.status},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.startTomcat.apply(void 0,arguments)}}},[r("uni-icons",{attrs:{type:"play",size:"14",color:"#fff"}}),r("v-uni-text",{staticClass:"btn-text"},[t._v("启动服务")])],1),r("v-uni-button",{staticClass:"btn stop-btn",attrs:{disabled:"已停止"===t.status||t.isOperating,loading:t.isOperating&&"已停止"!==t.status},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.stopTomcat.apply(void 0,arguments)}}},[r("uni-icons",{attrs:{type:"stop",size:"14",color:"#fff"}}),r("v-uni-text",{staticClass:"btn-text"},[t._v("停止服务")])],1)],1)],1),t.logInfo?r("v-uni-view",{staticClass:"status-log"},[r("v-uni-text",{staticClass:"log-title"},[t._v("操作日志")]),r("v-uni-view",{staticClass:"log-content"},[r("v-uni-text",{staticClass:"log-text"},[t._v(t._s(t.logInfo))])],1)],1):t._e()],1),r("v-uni-view",{staticClass:"status-card"},[r("v-uni-view",{staticClass:"status-header"},[r("v-uni-view",{staticClass:"refresh-container"},[r("v-uni-button",{staticClass:"refresh-btn",attrs:{loading:t.isRefreshingGithub},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleRefreshGithub.apply(void 0,arguments)}}},[r("uni-icons",{attrs:{type:"map-pin-ellipse",size:"16",color:"#409eff"}}),r("v-uni-text",{staticClass:"btn-text"},[t._v("重置检测")])],1),t.lastGithubTestTime?r("v-uni-text",{staticClass:"refresh-time"},[t._v("最后检测: "+t._s(t.lastGithubTestTime))]):t._e()],1)],1),r("v-uni-view",{staticClass:"github-content"},[r("v-uni-view",{staticClass:"detection-methods"},[r("v-uni-view",{staticClass:"method-card"},[r("v-uni-view",{staticClass:"method-header"},[r("v-uni-text",{staticClass:"method-title"},[t._v("TCP 网络层检测")]),r("v-uni-view",{staticClass:"method-status",class:t.tcpStatusClass},[t._v(t._s(t.getStatusText(t.tcpStatus)))])],1),r("v-uni-view",{staticClass:"method-desc"},[r("v-uni-text",{staticClass:"desc-text"},[t._v("检测与 GitHub 的网络连通性（TCP 443端口）")]),r("v-uni-text",{staticClass:"desc-detail"},[t._v("仅验证网络层是否可达，不涉及HTTP协议")])],1),r("v-uni-view",{staticClass:"method-action"},[r("v-uni-button",{staticClass:"btn test-btn",attrs:{disabled:t.testingHttp,loading:t.testingTcp},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.testTcpConnectivity.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"btn-text"},[t._v(t._s(t.testingTcp?"检测中...":"开始检测"))])],1)],1)],1),r("v-uni-view",{staticClass:"method-card"},[r("v-uni-view",{staticClass:"method-header"},[r("v-uni-text",{staticClass:"method-title"},[t._v("HTTP 应用层检测")]),r("v-uni-view",{staticClass:"method-status",class:t.httpStatusClass},[t._v(t._s(t.getStatusText(t.httpStatus)))])],1),r("v-uni-view",{staticClass:"method-desc"},[r("v-uni-text",{staticClass:"desc-text"},[t._v("完整检测 HTTPS 连接（包含SSL握手）")]),r("v-uni-text",{staticClass:"desc-detail"},[t._v("验证完整的HTTP协议栈和证书链")])],1),r("v-uni-view",{staticClass:"method-action"},[r("v-uni-button",{staticClass:"btn test-btn",attrs:{disabled:t.testingTcp,loading:t.testingHttp},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.testHttpConnectivity.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"btn-text"},[t._v(t._s(t.testingHttp?"检测中...":"开始检测"))])],1)],1)],1)],1),t.githubLogInfo?r("v-uni-view",{staticClass:"detection-result"},[r("v-uni-text",{staticClass:"log-title"},[t._v("检测结果")]),r("v-uni-view",{staticClass:"log-content"},[r("v-uni-text",{staticClass:"log-text"},[t._v(t._s(t.githubLogInfo||"未知问题"))])],1)],1):t._e()],1)],1)],1)},s=[]},adca:function(t,n,r){"use strict";r.r(n);var e=r("593c"),a=r("bd73");for(var s in a)["default"].indexOf(s)<0&&function(t){r.d(n,t,(function(){return a[t]}))}(s);r("dbd9");var i=r("f0c5"),o=Object(i["a"])(a["default"],e["b"],e["c"],!1,null,"1d8bbfc8",null,!1,e["a"],void 0);n["default"]=o.exports},b075:function(t,n,r){var e=r("24fb");n=e(!1),n.push([t.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* 全局容器 */.app-container[data-v-1d8bbfc8]{padding:15px;background-color:#f5f5f5;min-height:100vh;box-sizing:border-box}\r\n/* 卡片容器 */.status-card[data-v-1d8bbfc8]{background-color:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08);padding:20px 15px;margin-bottom:15px}\r\n/* 头部区域 */.status-header[data-v-1d8bbfc8]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid #f5f5f5}.status-header .title[data-v-1d8bbfc8]{font-size:18px;font-weight:600;color:#1f2d3d}\r\n/* 刷新容器 */.refresh-container[data-v-1d8bbfc8]{display:flex;align-items:center;gap:8px}\r\n/* 刷新按钮 */.refresh-btn[data-v-1d8bbfc8]{display:flex;align-items:center;justify-content:center;padding:4px 8px;background:transparent;border:none;color:#409eff;font-size:12px}.refresh-btn .btn-text[data-v-1d8bbfc8]{margin-left:4px}\r\n/* 刷新时间 */.refresh-time[data-v-1d8bbfc8]{font-size:11px;color:#8392a5}\r\n/* 状态内容区 */.status-content[data-v-1d8bbfc8]{display:flex;align-items:center;margin-bottom:20px;flex-wrap:wrap}\r\n/* 状态指示器 */.status-indicator[data-v-1d8bbfc8]{display:flex;align-items:center;margin-right:20px;margin-bottom:15px}\r\n/* 状态圆点 */.indicator-dot[data-v-1d8bbfc8]{width:14px;height:14px;border-radius:50%;margin-right:8px;transition:all .3s ease}.indicator-dot.running[data-v-1d8bbfc8]{background-color:#52c41a;box-shadow:0 0 8px rgba(82,196,26,.4)}.indicator-dot.stopped[data-v-1d8bbfc8]{background-color:#f5222d;box-shadow:0 0 8px rgba(245,34,45,.4)}\r\n/* 状态文字 */.status-text[data-v-1d8bbfc8]{font-size:22px;font-weight:500;color:#1f2d3d}\r\n/* 操作按钮区 */.operation-buttons[data-v-1d8bbfc8]{display:flex;gap:10px;width:100%}\r\n/* 通用按钮样式 */.btn[data-v-1d8bbfc8]{flex:1;height:44px;border-radius:8px;display:flex;align-items:center;justify-content:center;border:none;font-size:14px}\r\n/* 启动按钮 */.start-btn[data-v-1d8bbfc8]{background-color:#52c41a;color:#fff}.start-btn[data-v-1d8bbfc8]:disabled{background-color:#af8;color:#fff;opacity:.7}\r\n/* 停止按钮 */.stop-btn[data-v-1d8bbfc8]{background-color:#f5222d;color:#fff}.stop-btn[data-v-1d8bbfc8]:disabled{background-color:#f88;color:#fff;opacity:.7}.btn .btn-text[data-v-1d8bbfc8]{margin-left:6px}\r\n/* 日志区域 */.status-log[data-v-1d8bbfc8]{margin-top:15px;padding:15px;background-color:#f5f7fa;border-radius:8px}\r\n/* 日志标题 */.log-title[data-v-1d8bbfc8]{font-size:14px;color:#4e5969;font-weight:500;display:block;margin-bottom:10px}\r\n/* 日志内容 */.log-content[data-v-1d8bbfc8]{padding:10px;background-color:#1f2d3d;border-radius:6px;max-height:200px;overflow-y:auto}\r\n/* 日志文字 */.log-text[data-v-1d8bbfc8]{font-size:12px;color:#e0e0e0;line-height:1.6;white-space:pre-wrap}\r\n/* 新增：GitHub 检测相关样式 */.github-content[data-v-1d8bbfc8]{margin-top:10px}.detection-methods[data-v-1d8bbfc8]{display:flex;flex-direction:column;gap:15px;margin-bottom:20px}.method-card[data-v-1d8bbfc8]{border:1px solid #e6e6e6;border-radius:8px;padding:16px;background-color:#fafafa;transition:all .3s ease}.method-card[data-v-1d8bbfc8]:hover{box-shadow:0 2px 8px rgba(0,0,0,.1);border-color:#d1d1d1}.method-header[data-v-1d8bbfc8]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.method-title[data-v-1d8bbfc8]{font-size:14px;font-weight:600;color:#1f2d3d}.method-status[data-v-1d8bbfc8]{padding:4px 8px;border-radius:4px;font-size:11px;font-weight:500}.status-waiting[data-v-1d8bbfc8]{background-color:#f5f5f5;color:#8c8c8c}.status-testing[data-v-1d8bbfc8]{background-color:#e6f7ff;color:#1890ff}.status-success[data-v-1d8bbfc8]{background-color:#f6ffed;color:#52c41a}.status-error[data-v-1d8bbfc8]{background-color:#fff2f0;color:#ff4d4f}.method-desc[data-v-1d8bbfc8]{margin-bottom:16px;display:flex;flex-direction:column;gap:4px}.desc-text[data-v-1d8bbfc8]{font-size:12px;color:#666;line-height:1.4}.desc-detail[data-v-1d8bbfc8]{font-size:11px;color:#999;line-height:1.4}.method-action[data-v-1d8bbfc8]{text-align:center}.test-btn[data-v-1d8bbfc8]{background-color:#409eff;color:#fff;height:36px;font-size:13px}.test-btn[data-v-1d8bbfc8]:disabled{background-color:#a0cfff;color:#fff;opacity:.7}.detection-result[data-v-1d8bbfc8]{margin-top:15px;padding:15px;background-color:#f5f7fa;border-radius:8px}\r\n/* 响应式调整 */@media (min-width:768px){.detection-methods[data-v-1d8bbfc8]{flex-direction:row}.method-card[data-v-1d8bbfc8]{flex:1}}",""]),t.exports=n},bd73:function(t,n,r){"use strict";r.r(n);var e=r("4ad2"),a=r.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){r.d(n,t,(function(){return e[t]}))}(s);n["default"]=a.a},d7d9:function(t,n,r){var e=r("b075");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=r("4f06").default;a("3b78bf25",e,!0,{sourceMap:!1,shadowMode:!1})},db41:function(t,n,r){"use strict";r("7a82");var e=r("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.getTomcatStatus=function(){return(0,a.default)({url:"/server/tomcat/status",method:"get"})},n.startTomcat=function(){return(0,a.default)({url:"/server/tomcat/start",method:"post"})},n.stopTomcat=function(){return(0,a.default)({url:"/server/tomcat/stop",method:"post"})},n.testConnectToGithubByHttp=function(){return(0,a.default)({url:"/server/tomcat/testConnectToGithubByHttp",method:"get"})},n.testConnectToGithubByTcp=function(){return(0,a.default)({url:"/server/tomcat/testConnectToGithubByTcp",method:"get"})};var a=e(r("e3d7"))},dbd9:function(t,n,r){"use strict";var e=r("d7d9"),a=r.n(e);a.a}}]);