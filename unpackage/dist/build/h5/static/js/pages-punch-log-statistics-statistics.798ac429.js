(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-punch-log-statistics-statistics"],{"21c9":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-section"},[i("v-uni-view",{staticClass:"uni-section-header",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[t.type?i("v-uni-view",{staticClass:"uni-section-header__decoration",class:t.type}):t._t("decoration"),i("v-uni-view",{staticClass:"uni-section-header__content"},[i("v-uni-text",{staticClass:"uni-section__content-title",class:{distraction:!t.subTitle},style:{"font-size":t.titleFontSize,color:t.titleColor}},[t._v(t._s(t.title))]),t.subTitle?i("v-uni-text",{staticClass:"uni-section-header__content-sub",style:{"font-size":t.subTitleFontSize,color:t.subTitleColor}},[t._v(t._s(t.subTitle))]):t._e()],1),i("v-uni-view",{staticClass:"uni-section-header__slot-right"},[t._t("right")],2)],2),i("v-uni-view",{staticClass:"uni-section-content",style:{padding:t._padding}},[t._t("default")],2)],1)},n=[]},2909:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,a.default)(t)||(0,n.default)(t)||(0,o.default)(t)||(0,r.default)()};var a=s(i("6005")),n=s(i("db90")),o=s(i("06c5")),r=s(i("3427"));function s(t){return t&&t.__esModule?t:{default:t}}},3427:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},i("d9e2"),i("d401")},3861:function(t,e,i){var a=i("5cc2");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6cf0e146",a,!0,{sourceMap:!1,shadowMode:!1})},"3b2d":function(t,e,i){"use strict";i.r(e);var a=i("21c9"),n=i("92c3");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("d43d");var r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"1f994d7c",null,!1,a["a"],void 0);e["default"]=s.exports},4335:function(t,e,i){var a=i("6049");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("a4dc104e",a,!0,{sourceMap:!1,shadowMode:!1})},"54ac":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uniSection:i("3b2d").default,uniList:i("c712").default,uniListItem:i("158c").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"fx67ll-statistics-box"},[t.nowAvgLogList&&t.nowAvgLogList.length>0||t.nowLostLogList&&t.nowLostLogList.length>0||t.prevLostLogList&&t.prevLostLogList.length>0?i("v-uni-view",[i("v-uni-view",{staticClass:"fx67ll-statistics-item"},[i("uni-section",{attrs:{title:"本月均工时",type:"line"}},[t.nowAvgLogList&&t.nowAvgLogList.length>0?i("uni-list",t._l(t.nowAvgLogList,(function(t){return i("uni-list-item",{key:t.key,attrs:{title:t.title,rightText:t.text}})})),1):t._e()],1),t.nowAvgLogList&&0!==t.nowAvgLogList.length?t._e():i("uni-list",[i("uni-list-item",{attrs:{title:"暂无当月均工时数据！ (*｀皿´*)ﾉ "}})],1)],1),i("v-uni-view",{staticClass:"fx67ll-statistics-item"},[i("uni-section",{attrs:{title:"当月缺卡记录",type:"line"}},[t.nowLostLogList&&t.nowLostLogList.length>0?i("uni-list",t._l(t.nowLostLogList,(function(t){return i("uni-list-item",{key:t.key,attrs:{title:t.punchDay,rightText:t.lostPunchType}})})),1):t._e()],1),t.nowLostLogList&&0!==t.nowLostLogList.length?t._e():i("uni-list",[i("uni-list-item",{attrs:{title:"恭喜你~ 本月暂无缺卡记录！(*^▽^*)"}})],1)],1),i("v-uni-view",{staticClass:"fx67ll-statistics-item"},[i("uni-section",{attrs:{title:"上月缺卡记录",type:"line"}},[t.prevLostLogList&&t.prevLostLogList.length>0?i("uni-list",t._l(t.prevLostLogList,(function(t){return i("uni-list-item",{key:t.key,attrs:{title:t.punchDay,rightText:t.lostPunchType}})})),1):t._e(),t.prevLostLogList&&0!==t.prevLostLogList.length?t._e():i("uni-list",[i("uni-list-item",{attrs:{title:"恭喜你~ 上月暂无缺卡记录！(*^▽^*)"}})],1)],1)],1)],1):t._e(),t.nowLostLogList&&0!==t.nowLostLogList.length||t.prevLostLogList&&0!==t.prevLostLogList.length||t.lostLogLoading?t._e():i("v-uni-view",{staticClass:"no-data",class:{"fade-show":!t.lostLogLoading}},[i("img",{attrs:{src:"/static/images/no-data.png"}})])],1)},o=[]},"5cc2":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-section[data-v-1f994d7c]{background-color:#fff}.uni-section .uni-section-header[data-v-1f994d7c]{position:relative;display:flex;flex-direction:row;align-items:center;padding:12px 10px;font-weight:400}.uni-section .uni-section-header__decoration[data-v-1f994d7c]{margin-right:6px;background-color:#2979ff}.uni-section .uni-section-header__decoration.line[data-v-1f994d7c]{width:4px;height:12px;border-radius:10px}.uni-section .uni-section-header__decoration.circle[data-v-1f994d7c]{width:8px;height:8px;border-top-right-radius:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:50px}.uni-section .uni-section-header__decoration.square[data-v-1f994d7c]{width:8px;height:8px}.uni-section .uni-section-header__content[data-v-1f994d7c]{display:flex;flex-direction:column;flex:1;color:#333}.uni-section .uni-section-header__content .distraction[data-v-1f994d7c]{flex-direction:row;align-items:center}.uni-section .uni-section-header__content-sub[data-v-1f994d7c]{margin-top:2px}.uni-section .uni-section-header__slot-right[data-v-1f994d7c]{font-size:14px}.uni-section .uni-section-content[data-v-1f994d7c]{font-size:14px}',""]),t.exports=e},6005:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(Array.isArray(t))return(0,a.default)(t)};var a=function(t){return t&&t.__esModule?t:{default:t}}(i("6b75"))},6049:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".flex-box[data-v-989f3196]{display:flex;flex-direction:column;align-items:center;justify-content:center}.text-ellipsis[data-v-989f3196]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.text-ellipsis-two[data-v-989f3196]{text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.no-data[data-v-989f3196]{width:%?320?%;height:%?320?%;margin:0 auto;margin-top:%?320?%}.no-data img[data-v-989f3196]{width:100%;height:100%}.nav-tab-box[data-v-989f3196]{margin:0 auto}.nav-tab-box-two[data-v-989f3196]{width:75%}.nav-tab-box-four[data-v-989f3196]{width:100%}.nav-tab-box-three[data-v-989f3196]{width:100%}.status_bar[data-v-989f3196]{height:0;width:100%;z-index:10}.top-nav[data-v-989f3196]{width:100%;height:%?88?%;position:fixed;top:0;background-color:#fff;display:flex;justify-content:space-between;align-items:center;z-index:10}.top-nav .top-nav-back[data-v-989f3196]{width:25%}.top-nav .top-nav-back .top-nav-back-icon[data-v-989f3196]{padding:%?15?% %?15?% %?15?% %?30?%}.top-nav .top-nav-title[data-v-989f3196]{width:45%;text-align:center;font-size:%?34?%;color:#000}.top-nav .top-nav-btn[data-v-989f3196]{width:calc(25% - %?30?%);text-align:right;margin-right:%?30?%;font-size:%?28?%;color:#838383;position:relative;top:%?3?%}.top-nav-fake[data-v-989f3196]{width:100%;height:%?88?%}.top-nav-search[data-v-989f3196]{width:100%;height:%?80?%;background-color:#fff;position:fixed;top:%?88?%;z-index:10}.top-nav-search .nav-search-box[data-v-989f3196]{width:calc(100% - %?30?% * 2);height:%?72?%;background-color:#f8f8f8;margin:calc(%?80?% - %?72?%) auto 0 auto;border-radius:%?50?%;display:flex;justify-content:space-between;align-items:center}.top-nav-search .nav-search-box .nav-search-icon[data-v-989f3196]{position:relative;left:%?26?%;top:%?-2?%}.top-nav-search .nav-search-box .nav-search-input[data-v-989f3196]{width:calc(100% - %?80?%);height:100%;font-size:%?24?%}.top-nav-search .nav-search-box .nav-input-placeholder[data-v-989f3196]{font-size:%?28?%;color:#c8c8c8}.nav-search-box-invoice[data-v-989f3196]{width:calc(100% - %?30?% * 2);margin:0 auto;display:flex;justify-content:space-between;align-items:center}.nav-search-box-invoice .nav-search-box[data-v-989f3196]{width:calc(100% - %?140?%)}.nav-search-box-invoice .nav-search-filter[data-v-989f3196]{width:%?140?%;font-size:%?28?%;color:#313131;display:flex;justify-content:flex-end;align-items:center;position:relative;top:%?10?%}.nav-search-box-invoice .nav-search-filter .nav-search-filter-text[data-v-989f3196]{margin-right:%?8?%}.nav-search-box-invoice .nav-search-filter .nav-search-filter-icon[data-v-989f3196]{margin-right:%?20?%;position:relative;top:%?1?%}.top-nav-tab[data-v-989f3196]{width:100%;height:%?100?%;background-color:#fff;position:fixed;top:calc(%?88?% + %?80?%);z-index:10}.top-nav-tab .nav-tab-box[data-v-989f3196]{margin:0 auto}.top-nav-tab .nav-tab-box-two[data-v-989f3196]{width:75%}.top-nav-tab .nav-tab-box-four[data-v-989f3196]{width:100%}.top-nav-tab .nav-tab-box-three[data-v-989f3196]{width:100%}.top-nav-fake-high[data-v-989f3196]{width:100%;height:calc(%?88?% + %?80?% + %?100?%)}.top-nav-fake-middle[data-v-989f3196]{width:100%;height:calc(%?88?% + %?80?%)}@-webkit-keyframes fadeInOut-data-v-989f3196{0%{opacity:0}25%{opacity:.15}50%{opacity:.3}75%{opacity:.75}100%{opacity:1}}@keyframes fadeInOut-data-v-989f3196{0%{opacity:0}25%{opacity:.15}50%{opacity:.3}75%{opacity:.75}100%{opacity:1}}.fade-show[data-v-989f3196]{-webkit-animation:fadeInOut-data-v-989f3196 .4s forwards;\n  /* Chrome, Safari, newer versions of Opera */-moz-animation:fadeInOut-data-v-989f3196 .4s forwards;\n  /* Firefox */-o-animation:fadeInOut-data-v-989f3196 .4s forwards;\n  /* Older versions of Opera */animation:fadeInOut-data-v-989f3196 .4s forwards;opacity:1}@-webkit-keyframes fadeInOutSecond-data-v-989f3196{0%{opacity:0}50%{opacity:0}75%{opacity:.5}100%{opacity:1}}@keyframes fadeInOutSecond-data-v-989f3196{0%{opacity:0}50%{opacity:0}75%{opacity:.5}100%{opacity:1}}.fade-show-second[data-v-989f3196]{-webkit-animation:fadeInOutSecond-data-v-989f3196 .6s forwards;\n  /* Chrome, Safari, newer versions of Opera */-moz-animation:fadeInOutSecond-data-v-989f3196 .6s forwards;\n  /* Firefox */-o-animation:fadeInOutSecond-data-v-989f3196 .6s forwards;\n  /* Older versions of Opera */animation:fadeInOutSecond-data-v-989f3196 .6s forwards;opacity:1}@-webkit-keyframes fadeInOutThird-data-v-989f3196{0%{opacity:0}75%{opacity:0}85%{opacity:.5}100%{opacity:1}}@keyframes fadeInOutThird-data-v-989f3196{0%{opacity:0}75%{opacity:0}85%{opacity:.5}100%{opacity:1}}.fade-show-third[data-v-989f3196]{-webkit-animation:fadeInOutThird-data-v-989f3196 .8s forwards;\n  /* Chrome, Safari, newer versions of Opera */-moz-animation:fadeInOutThird-data-v-989f3196 .8s forwards;\n  /* Firefox */-o-animation:fadeInOutThird-data-v-989f3196 .8s forwards;\n  /* Older versions of Opera */animation:fadeInOutThird-data-v-989f3196 .8s forwards;opacity:1}.fx67ll-statistics-box .fx67ll-statistics-item[data-v-989f3196]{margin:%?23?% 0}",""]),t.exports=e},"645e":function(t,e,i){"use strict";i.r(e);var a=i("9d93"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},8773:function(t,e,i){"use strict";i.r(e);var a=i("54ac"),n=i("645e");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("b518");var r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"989f3196",null,!1,a["a"],void 0);e["default"]=s.exports},"89c5":function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.addPunchLog=function(t){return(0,n.default)({url:"/punch/log/addPunchLogForApp",method:"post",data:t})},e.delPunchLog=function(t){return(0,n.default)({url:"/punch/log/deletePunchLogByIdForApp/"+t,method:"delete"})},e.getPunchLogInfo=function(t){return(0,n.default)({url:"/punch/log/getPunchLogInfoForApp/"+t,method:"get"})},e.getPunchLogList=function(t){return(0,n.default)({url:"/punch/log/getPunchLogListForApp",method:"get",params:t})},e.getPunchLostLog=function(t){return(0,n.default)({url:"/punch/log/getPunchLostLog",method:"get",params:t})},e.getWorkTotalTime=function(t){return(0,n.default)({url:"/punch/log/getWorkTotalTime",method:"get",params:t})},e.updatePunchLog=function(t){return(0,n.default)({url:"/punch/log/editPunchLogForApp",method:"put",data:t})};var n=a(i("e3d7"))},"92c3":function(t,e,i){"use strict";i.r(e);var a=i("a177"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"9d93":function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2909")),o=a(i("5530"));i("d3b7"),i("d81d");var r=i("89c5"),s=i("aa92"),d=a(i("f735"));i("0f3c");var u={data:function(){return{nowAvgLogList:[],nowLostLogList:[],prevLostLogList:[],lostLogLoading:!1}},onShow:function(){this.initPunchLostLog()},methods:{initPunchLostLog:function(){var t=this;this.lostLogLoading=!0,uni.showLoading({title:"查询数据中..."}),(0,s.getInfo)().then((function(e){var i=null===e||void 0===e?void 0:e.user,a=null==i||""==i.userName||null==i.userName?"":i.userName,n={pageNum:1,pageSize:999999999,punchMonth:(0,d.default)().format("YYYY-MM")},o={pageNum:1,pageSize:999999999,punchMonth:(0,d.default)().subtract(1,"months").format("YYYY-MM")};"fx67ll"===a&&(n.updateBy=a,o.updateBy=a),t.queryPunchLogTotalTime(n),t.qryPunchLostLog(n,1),t.qryPunchLostLog(o,2)})).catch((function(e){console.error("queryPunchLogTotalTime 方法中的 getInfo 接口异常：",e),uni.hideLoading(),t.lostLogLoading=!1}))},qryPunchLostLog:function(t,e){var i=this;(0,r.getPunchLostLog)(t).then((function(t){var a;if(200===(null===t||void 0===t?void 0:t.code)&&(null!==t&&void 0!==t&&t.rows&&(null===t||void 0===t||null===(a=t.rows)||void 0===a?void 0:a.length)>0)){var r=t.rows.map((function(t,e){var i=(0,o.default)((0,o.default)({},t),{},{key:e});return i}));1===e&&(i.nowLostLogList=(0,n.default)(r)),2===e&&(i.prevLostLogList=(0,n.default)(r))}})).finally((function(){uni.hideLoading(),i.lostLogLoading=!1}))},queryPunchLogTotalTime:function(t){var e=this;(0,r.getWorkTotalTime)(t).then((function(t){var i;if(200===(null===t||void 0===t?void 0:t.code)){if(null!==t&&void 0!==t&&t.rows&&(null===t||void 0===t||null===(i=t.rows)||void 0===i?void 0:i.length)>0){var a=null===t||void 0===t?void 0:t.rows[0];e.nowAvgLogList=[{key:1,title:"当月总工时 (小时)",text:(null===a||void 0===a?void 0:a.totalWorkHours)||0},{key:2,title:"当月已打卡天数",text:(null===a||void 0===a?void 0:a.totalPunchDays)||0},{key:2,title:"当月缺卡天数",text:null!==a&&void 0!==a&&a.totalPunchDays&&null!==a&&void 0!==a&&a.totalWorkDays?(null===a||void 0===a?void 0:a.totalPunchDays)-(null===a||void 0===a?void 0:a.totalWorkDays):0},{key:2,title:"当月日均工时 (小时)",text:null!==a&&void 0!==a&&a.workHoursPerDay?null===a||void 0===a?void 0:a.workHoursPerDay.toFixed(2):0},{key:2,title:"当月净日均工时 (小时)",text:null!==a&&void 0!==a&&a.totalWorkHours&&null!==a&&void 0!==a&&a.totalPunchDays?((null===a||void 0===a?void 0:a.totalWorkHours)/(null===a||void 0===a?void 0:a.totalPunchDays)).toFixed(2):0}]}}else uni.showToast({title:"当月均工时统计查询失败！",icon:"none",duration:1998})})).finally((function(){uni.hideLoading(),e.isPunchLoading=!1}))}}};e.default=u},a177:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"UniSection",emits:["click"],props:{type:{type:String,default:""},title:{type:String,required:!0,default:""},titleFontSize:{type:String,default:"14px"},titleColor:{type:String,default:"#333"},subTitle:{type:String,default:""},subTitleFontSize:{type:String,default:"12px"},subTitleColor:{type:String,default:"#999"},padding:{type:[Boolean,String],default:!1}},computed:{_padding:function(){return"string"===typeof this.padding?this.padding:this.padding?"10px":""}},watch:{title:function(t){uni.report&&""!==t&&uni.report("title",t)}},methods:{onClick:function(){this.$emit("click")}}};e.default=a},b518:function(t,e,i){"use strict";var a=i("4335"),n=i.n(a);n.a},d43d:function(t,e,i){"use strict";var a=i("3861"),n=i.n(a);n.a},db90:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630")}}]);