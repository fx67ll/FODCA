(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-punch-log-index-index"],{2697:function(t,a,e){"use strict";var n=e("57d8"),i=e.n(n);i.a},"4e47":function(t,a,e){"use strict";e.r(a);var n=e("699c"),i=e("fac0");for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);e("2697");var c=e("f0c5"),r=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"6297bcb6",null,!1,n["a"],void 0);a["default"]=r.exports},"57d8":function(t,a,e){var n=e("fad3");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("95f26acc",n,!0,{sourceMap:!1,shadowMode:!1})},"699c":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return n}));var n={zPagingMini:e("83b38").default,uniSwipeAction:e("d86d").default,uniSwipeActionItem:e("a9ee").default,uniSection:e("3b2d").default,uniList:e("c712").default,uniListChat:e("8c35").default},i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"fx67ll-extra-box"},[e("z-paging-mini",{ref:"paging",on:{query:function(a){arguments[0]=a=t.$handleEvent(a),t.queryPunchList.apply(void 0,arguments)}},model:{value:t.punchList,callback:function(a){t.punchList=a},expression:"punchList"}},[e("uni-swipe-action",t._l(t.punchList,(function(a){return e("v-uni-view",{key:a.punchId,staticClass:"fx67ll-extra-item"},[e("uni-swipe-action-item",{attrs:{"right-options":t.actionOptions},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(e){return t.handleActionClick(e,a)}.apply(void 0,arguments)}}},[e("uni-section",{attrs:{title:a.updateTime.substring(0,10),type:"line"}},[e("uni-list",{attrs:{border:!0}},[e("uni-list-chat",{attrs:{avatar:"https://vip.fx67ll.com/vip-api/getRandomAvatar?avatarBlockNum=6",title:a.updateTime,note:a.punchRemark||"暂无打卡备注"},scopedSlots:t._u([{key:"default",fn:function(){return[e("v-uni-view",[e("v-uni-text",{class:{"fx67ll-extra-badge":!0,"fx67ll-extra-badge-success":"1"===a.punchType,"fx67ll-extra-badge-fail":"2"===a.punchType,"fx67ll-extra-badge-normal":!a.punchType||"3"===a.punchType}},[t._v(t._s("1"===a.punchType?"上班打卡":"2"===a.punchType?"下班打卡":"异常记录，请联系管理员"))])],1)]},proxy:!0}],null,!0)})],1)],1)],1)],1)})),1)],1),e("punchDrawer",{attrs:{isShowPunchDrawer:t.isShowEditDrawer,isAdd:!1,punchInfo:t.editPunchInfo},on:{hideDrawer:function(a){arguments[0]=a=t.$handleEvent(a),t.setIsShowDrawer.apply(void 0,arguments)},reloadPunchList:function(a){arguments[0]=a=t.$handleEvent(a),t.queryPunchList.apply(void 0,arguments)}}})],1)},o=[]},dfc2:function(t,a,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(e("5530")),o=n(e("a523")),c=e("088b"),r=e("1544"),l=e("58f9"),d=n(e("8c35")),u={components:{uniListChat:d.default,punchDrawer:o.default},data:function(){return{punchList:[],actionOptions:[{text:"取消",style:{backgroundColor:"#4096ff"}},{text:"修改",style:{backgroundColor:"#2ecc71"}},{text:"删除",style:{backgroundColor:"#ff4d4f"}}],isShowEditDrawer:!1,editPunchInfo:{}}},methods:{queryPunchList:function(t,a){var e=this,n={pageNum:t,pageSize:a};(0,c.getPunchLogList)(n).then((function(t){var a;200===(null===t||void 0===t?void 0:t.code)?null!==t&&void 0!==t&&t.rows&&(null===t||void 0===t||null===(a=t.rows)||void 0===a?void 0:a.length)>0?e.$refs.paging.complete(t.rows):e.$refs.paging.complete([]):(uni.showToast({title:"查询历史打卡记录失败！",icon:"none",duration:1998}),e.$refs.paging.complete(!1))})).catch((function(t){e.$refs.paging.complete(!1)}))},editPunchLogInfo:function(t){this.editPunchInfo=(0,i.default)({},t),this.isShowEditDrawer=!0},setIsShowDrawer:function(t){this.isShowEditDrawer=t},deletePunch:function(t){var a=this;(0,c.delPunchLog)(t).then((function(t){200===(null===t||void 0===t?void 0:t.code)?(a.$refs.paging.reload(),uni.showToast({title:"历史打卡记录删除成功！",icon:"none",duration:1998})):uni.showToast({title:"历史打卡记录删除失败！",icon:"none",duration:1998})}))},handleActionClick:function(t,a){var e=this;1===(null===t||void 0===t?void 0:t.index)&&this.editPunchLogInfo(a),2===(null===t||void 0===t?void 0:t.index)&&(0,l.showConfirm)("删除后数据无法恢复，请确认是否删除打卡时间为：".concat(null===a||void 0===a?void 0:a.updateTime," 的历史打卡记录？"),"警告").then((function(t){null!==t&&void 0!==t&&t.confirm&&null!==a&&void 0!==a&&a.punchId&&((0,r.diffTimeStrFromNow)(null===a||void 0===a?void 0:a.createTime)<=-48?uni.showToast({title:"记录创建时间已超过48小时，不允许删除操作！有需要请联系管理员~",icon:"none",duration:1998}):e.deletePunch(a.punchId))}))}}};a.default=u},fac0:function(t,a,e){"use strict";e.r(a);var n=e("dfc2"),i=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);a["default"]=i.a},fad3:function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,".flex-box[data-v-6297bcb6]{display:flex;flex-direction:column;align-items:center;justify-content:center}.text-ellipsis[data-v-6297bcb6]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.text-ellipsis-two[data-v-6297bcb6]{text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.status_bar[data-v-6297bcb6]{height:0;width:100%;z-index:10}.top-nav[data-v-6297bcb6]{width:100%;height:%?88?%;position:fixed;top:0;background-color:#fff;display:flex;justify-content:space-between;align-items:center;z-index:10}.top-nav .top-nav-back[data-v-6297bcb6]{width:25%}.top-nav .top-nav-back .top-nav-back-icon[data-v-6297bcb6]{padding:%?15?% %?15?% %?15?% %?30?%}.top-nav .top-nav-title[data-v-6297bcb6]{width:45%;text-align:center;font-size:%?34?%;color:#000}.top-nav .top-nav-btn[data-v-6297bcb6]{width:calc(25% - %?30?%);text-align:right;margin-right:%?30?%;font-size:%?28?%;color:#838383;position:relative;top:%?3?%}.top-nav-fake[data-v-6297bcb6]{width:100%;height:%?88?%}.top-nav-search[data-v-6297bcb6]{width:100%;height:%?80?%;background-color:#fff;position:fixed;top:%?88?%;z-index:10}.top-nav-search .nav-search-box[data-v-6297bcb6]{width:calc(100% - %?30?% * 2);height:%?72?%;background-color:#f8f8f8;margin:calc(%?80?% - %?72?%) auto 0 auto;border-radius:%?50?%;display:flex;justify-content:space-between;align-items:center}.top-nav-search .nav-search-box .nav-search-icon[data-v-6297bcb6]{position:relative;left:%?26?%;top:%?-2?%}.top-nav-search .nav-search-box .nav-search-input[data-v-6297bcb6]{width:calc(100% - %?80?%);height:100%;font-size:%?24?%}.top-nav-search .nav-search-box .nav-input-placeholder[data-v-6297bcb6]{font-size:%?28?%;color:#c8c8c8}.nav-search-box-invoice[data-v-6297bcb6]{width:calc(100% - %?30?% * 2);margin:0 auto;display:flex;justify-content:space-between;align-items:center}.nav-search-box-invoice .nav-search-box[data-v-6297bcb6]{width:calc(100% - %?140?%)}.nav-search-box-invoice .nav-search-filter[data-v-6297bcb6]{width:%?140?%;font-size:%?28?%;color:#313131;display:flex;justify-content:flex-end;align-items:center;position:relative;top:%?10?%}.nav-search-box-invoice .nav-search-filter .nav-search-filter-text[data-v-6297bcb6]{margin-right:%?8?%}.nav-search-box-invoice .nav-search-filter .nav-search-filter-icon[data-v-6297bcb6]{margin-right:%?20?%;position:relative;top:%?1?%}.top-nav-tab[data-v-6297bcb6]{width:100%;height:%?100?%;background-color:#fff;position:fixed;top:calc(%?88?% + %?80?%);z-index:10}.top-nav-tab .nav-tab-box[data-v-6297bcb6]{margin:0 auto}.top-nav-tab .nav-tab-box-two[data-v-6297bcb6]{width:75%}.top-nav-tab .nav-tab-box-four[data-v-6297bcb6]{width:100%}.top-nav-tab .nav-tab-box-three[data-v-6297bcb6]{width:100%}.top-nav-fake-high[data-v-6297bcb6]{width:100%;height:calc(%?88?% + %?80?% + %?100?%)}.top-nav-fake-middle[data-v-6297bcb6]{width:100%;height:calc(%?88?% + %?80?%)}.fx67ll-extra-box[data-v-6297bcb6]{padding:%?40?%}.fx67ll-extra-box .fx67ll-extra-item[data-v-6297bcb6]{margin-bottom:%?40?%}.fx67ll-extra-box .fx67ll-extra-item .fx67ll-extra-badge[data-v-6297bcb6]{border-radius:100px;font-size:12px;line-height:18px;color:#fff;padding:%?6?% %?8?% %?8?% %?8?%;margin-top:%?4?%}.fx67ll-extra-box .fx67ll-extra-item .fx67ll-extra-badge-success[data-v-6297bcb6]{background-color:#2ecc71!important}.fx67ll-extra-box .fx67ll-extra-item .fx67ll-extra-badge-fail[data-v-6297bcb6]{background-color:#ff5a5f!important}.fx67ll-extra-box .fx67ll-extra-item .fx67ll-extra-badge-normal[data-v-6297bcb6]{background-color:#999!important}",""]),t.exports=a}}]);